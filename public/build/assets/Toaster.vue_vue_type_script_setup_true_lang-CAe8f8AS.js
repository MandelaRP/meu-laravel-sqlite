import{c as U}from"./utils-CytzSlOG.js";import{V as fe,u as be}from"./VisuallyHidden-BAG-HCFC.js";import{u as V,c as ve}from"./useForwardExpose-BFkC9Kdc.js";import{u as ae,g as J,P as Ce}from"./Collection--76CoLyc.js";import{P as $}from"./Primitive-odI4fKTA.js";import{z as g,l as oe,x as me,h as c,o as u,b as f,I as C,S as D,u as e,O as _e,r as x,e as M,f as z,t as H,k as S,U as ye,w as Ee,c as Z,a as F,v as xe,T as Pe,F as ee,Q as re,R as ne,y as ke,g as Re,d as De,X as Se,j as ie}from"./app-S3kx2b0d.js";import{d as Fe,e as we,o as Te,i as Ae,a as Ie,f as le}from"./index-BszNJtDQ.js";import{u as qe}from"./use-toast-DniFefJe.js";import{c as Be}from"./Button.vue_vue_type_script_setup_true_lang-Bu1_OuLZ.js";import{X as Le}from"./x-Dj8XHr1q.js";import{c as ue,f as G,g as Me}from"./utils-Bd7HeyaL.js";var Ve=g({__name:"DismissableLayerBranch",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const s=n,{forwardRef:a,currentElement:t}=V();return oe(()=>{ue.branches.add(t.value)}),me(()=>{ue.branches.delete(t.value)}),(o,d)=>(u(),c(e($),D({ref:e(a)},s),{default:f(()=>[C(o.$slots,"default")]),_:3},16))}}),$e=Ve,Oe=g({__name:"ToastAnnounceExclude",props:{altText:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){return(s,a)=>(u(),c(e($),{as:s.as,"as-child":s.asChild,"data-reka-toast-announce-exclude":"","data-reka-toast-announce-alt":s.altText||void 0},{default:f(()=>[C(s.$slots,"default")]),_:3},8,["as","as-child","data-reka-toast-announce-alt"]))}}),Ne=Oe;const[Y,Ke]=ve("ToastProvider");var Xe=g({inheritAttrs:!1,__name:"ToastProvider",props:{label:{type:String,required:!1,default:"Notification"},duration:{type:Number,required:!1,default:5e3},swipeDirection:{type:String,required:!1,default:"right"},swipeThreshold:{type:Number,required:!1,default:50}},setup(n){const s=n,{label:a,duration:t,swipeDirection:o,swipeThreshold:d}=_e(s);ae({isProvider:!0});const _=x(),r=x(0),i=x(!1),p=x(!1);if(s.label&&typeof s.label=="string"&&!s.label.trim()){const y="Invalid prop `label` supplied to `ToastProvider`. Expected non-empty `string`.";throw new Error(y)}return Ke({label:a,duration:t,swipeDirection:o,swipeThreshold:d,toastCount:r,viewport:_,onViewportChange(y){_.value=y},onToastAdd(){r.value++},onToastRemove(){r.value--},isFocusedToastEscapeKeyDownRef:i,isClosePausedRef:p}),(y,h)=>C(y.$slots,"default")}}),Ue=Xe,We=g({__name:"ToastAnnounce",setup(n){const s=Y(),a=Fe(1e3),t=x(!1);return we(()=>{t.value=!0}),(o,d)=>e(a)||t.value?(u(),c(e(fe),{key:0},{default:f(()=>[z(H(e(s).label.value)+" ",1),C(o.$slots,"default")]),_:3})):M("v-if",!0)}}),je=We;const ze="toast.swipeStart",He="toast.swipeMove",Ye="toast.swipeCancel",Qe="toast.swipeEnd",te="toast.viewportPause",se="toast.viewportResume";function j(n,s,a){const t=a.originalEvent.currentTarget,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:a});s&&t.addEventListener(n,s,{once:!0}),t.dispatchEvent(o)}function de(n,s,a=0){const t=Math.abs(n.x),o=Math.abs(n.y),d=t>o;return s==="left"||s==="right"?d&&t>a:!d&&o>a}function Ge(n){return n.nodeType===n.ELEMENT_NODE}function ge(n){const s=[];return Array.from(n.childNodes).forEach(t=>{if(t.nodeType===t.TEXT_NODE&&t.textContent&&s.push(t.textContent),Ge(t)){const o=t.ariaHidden||t.hidden||t.style.display==="none",d=t.dataset.rekaToastAnnounceExclude==="";if(!o)if(d){const _=t.dataset.rekaToastAnnounceAlt;_&&s.push(_)}else s.push(...ge(t))}}),s}const[Je,Ze]=ve("ToastRoot");var et=g({inheritAttrs:!1,__name:"ToastRootImpl",props:{type:{type:String,required:!1},open:{type:Boolean,required:!1,default:!1},duration:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"li"}},emits:["close","escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd"],setup(n,{emit:s}){const a=n,t=s,{forwardRef:o,currentElement:d}=V(),{CollectionItem:_}=ae(),r=Y(),i=x(null),p=x(null),y=S(()=>typeof a.duration=="number"?a.duration:r.duration.value),h=x(0),A=x(y.value),L=x(0),P=x(y.value),v=we(()=>{const m=new Date().getTime()-h.value;P.value=Math.max(A.value-m,0)},{fpsLimit:60});function w(m){m<=0||m===Number.POSITIVE_INFINITY||Ae&&(window.clearTimeout(L.value),h.value=new Date().getTime(),L.value=window.setTimeout(E,m))}function E(m){var b,k;const T=(m==null?void 0:m.pointerType)==="";((b=d.value)==null?void 0:b.contains(J()))&&T&&((k=r.viewport.value)==null||k.focus()),T&&(r.isClosePausedRef.value=!1),t("close")}const I=S(()=>d.value?ge(d.value):null);if(a.type&&!["foreground","background"].includes(a.type)){const m="Invalid prop `type` supplied to `Toast`. Expected `foreground | background`.";throw new Error(m)}return ye(m=>{const T=r.viewport.value;if(T){const l=()=>{w(A.value),v.resume(),t("resume")},b=()=>{const k=new Date().getTime()-h.value;A.value=A.value-k,window.clearTimeout(L.value),v.pause(),t("pause")};return T.addEventListener(te,b),T.addEventListener(se,l),()=>{T.removeEventListener(te,b),T.removeEventListener(se,l)}}}),Ee(()=>[a.open,y.value],()=>{A.value=y.value,a.open&&!r.isClosePausedRef.value&&w(y.value)},{immediate:!0}),Te("Escape",m=>{t("escapeKeyDown",m),m.defaultPrevented||(r.isFocusedToastEscapeKeyDownRef.value=!0,E())}),oe(()=>{r.onToastAdd()}),me(()=>{r.onToastRemove()}),Ze({onClose:E}),(m,T)=>(u(),Z(ee,null,[I.value?(u(),c(je,{key:0,role:"alert","aria-live":m.type==="foreground"?"assertive":"polite","aria-atomic":"true"},{default:f(()=>[z(H(I.value),1)]),_:1},8,["aria-live"])):M("v-if",!0),e(r).viewport.value?(u(),c(Pe,{key:1,to:e(r).viewport.value},[F(e(_),null,{default:f(()=>[F(e($),D({ref:e(o),role:"alert","aria-live":"off","aria-atomic":"true",tabindex:"0"},m.$attrs,{as:m.as,"as-child":m.asChild,"data-state":m.open?"open":"closed","data-swipe-direction":e(r).swipeDirection.value,style:{userSelect:"none",touchAction:"none"},onPointerdown:T[0]||(T[0]=xe(l=>{i.value={x:l.clientX,y:l.clientY}},["left"])),onPointermove:T[1]||(T[1]=l=>{if(!i.value)return;const b=l.clientX-i.value.x,k=l.clientY-i.value.y,q=!!p.value,B=["left","right"].includes(e(r).swipeDirection.value),R=["left","up"].includes(e(r).swipeDirection.value)?Math.min:Math.max,Q=B?R(0,b):0,O=B?0:R(0,k),W=l.pointerType==="touch"?10:2,N={x:Q,y:O},K={originalEvent:l,delta:N};q?(p.value=N,e(j)(e(He),X=>t("swipeMove",X),K)):e(de)(N,e(r).swipeDirection.value,W)?(p.value=N,e(j)(e(ze),X=>t("swipeStart",X),K),l.target.setPointerCapture(l.pointerId)):(Math.abs(b)>W||Math.abs(k)>W)&&(i.value=null)}),onPointerup:T[2]||(T[2]=l=>{const b=p.value,k=l.target;if(k.hasPointerCapture(l.pointerId)&&k.releasePointerCapture(l.pointerId),p.value=null,i.value=null,b){const q=l.currentTarget,B={originalEvent:l,delta:b};e(de)(b,e(r).swipeDirection.value,e(r).swipeThreshold.value)?e(j)(e(Qe),R=>t("swipeEnd",R),B):e(j)(e(Ye),R=>t("swipeCancel",R),B),q==null||q.addEventListener("click",R=>R.preventDefault(),{once:!0})}})}),{default:f(()=>[C(m.$slots,"default",{remaining:P.value,duration:y.value})]),_:3},16,["as","as-child","data-state","data-swipe-direction"])]),_:3})],8,["to"])):M("v-if",!0)],64))}}),tt=et,st=g({__name:"ToastClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(n){const s=n,a=Je(),{forwardRef:t}=V();return(o,d)=>(u(),c(Ne,{"as-child":""},{default:f(()=>[F(e($),D(s,{ref:e(t),type:o.as==="button"?"button":void 0,onClick:e(a).onClose}),{default:f(()=>[C(o.$slots,"default")]),_:3},16,["type","onClick"])]),_:3}))}}),at=st,ot=g({__name:"ToastDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const s=n;return V(),(a,t)=>(u(),c(e($),re(ne(s)),{default:f(()=>[C(a.$slots,"default")]),_:3},16))}}),rt=ot,nt=g({__name:"ToastRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!0},forceMount:{type:Boolean,required:!1},type:{type:String,required:!1,default:"foreground"},open:{type:Boolean,required:!1,default:void 0},duration:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"li"}},emits:["escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd","update:open"],setup(n,{emit:s}){const a=n,t=s,{forwardRef:o}=V(),d=Ie(a,"open",t,{defaultValue:a.defaultOpen,passive:a.open===void 0});return(_,r)=>(u(),c(e(Ce),{present:_.forceMount||e(d)},{default:f(()=>[F(tt,D({ref:e(o),open:e(d),type:_.type,as:_.as,"as-child":_.asChild,duration:_.duration},_.$attrs,{onClose:r[0]||(r[0]=i=>d.value=!1),onPause:r[1]||(r[1]=i=>t("pause")),onResume:r[2]||(r[2]=i=>t("resume")),onEscapeKeyDown:r[3]||(r[3]=i=>t("escapeKeyDown",i)),onSwipeStart:r[4]||(r[4]=i=>{t("swipeStart",i),i.defaultPrevented||i.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:r[5]||(r[5]=i=>{if(t("swipeMove",i),!i.defaultPrevented){const{x:p,y}=i.detail.delta,h=i.currentTarget;h.setAttribute("data-swipe","move"),h.style.setProperty("--reka-toast-swipe-move-x",`${p}px`),h.style.setProperty("--reka-toast-swipe-move-y",`${y}px`)}}),onSwipeCancel:r[6]||(r[6]=i=>{if(t("swipeCancel",i),!i.defaultPrevented){const p=i.currentTarget;p.setAttribute("data-swipe","cancel"),p.style.removeProperty("--reka-toast-swipe-move-x"),p.style.removeProperty("--reka-toast-swipe-move-y"),p.style.removeProperty("--reka-toast-swipe-end-x"),p.style.removeProperty("--reka-toast-swipe-end-y")}}),onSwipeEnd:r[7]||(r[7]=i=>{if(t("swipeEnd",i),!i.defaultPrevented){const{x:p,y}=i.detail.delta,h=i.currentTarget;h.setAttribute("data-swipe","end"),h.style.removeProperty("--reka-toast-swipe-move-x"),h.style.removeProperty("--reka-toast-swipe-move-y"),h.style.setProperty("--reka-toast-swipe-end-x",`${p}px`),h.style.setProperty("--reka-toast-swipe-end-y",`${y}px`),d.value=!1}})}),{default:f(({remaining:i,duration:p})=>[C(_.$slots,"default",{remaining:i,duration:p,open:e(d)})]),_:3},16,["open","type","as","as-child","duration"])]),_:3},8,["present"]))}}),it=nt,lt=g({__name:"ToastTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const s=n;return V(),(a,t)=>(u(),c(e($),re(ne(s)),{default:f(()=>[C(a.$slots,"default")]),_:3},16))}}),ut=lt,dt=g({__name:"FocusProxy",emits:["focusFromOutsideViewport"],setup(n,{emit:s}){const a=s,t=Y();return(o,d)=>(u(),c(e(fe),{"aria-hidden":"true",tabindex:"0",style:{position:"fixed"},onFocus:d[0]||(d[0]=_=>{var p;const r=_.relatedTarget;!((p=e(t).viewport.value)!=null&&p.contains(r))&&a("focusFromOutsideViewport")})},{default:f(()=>[C(o.$slots,"default")]),_:3}))}}),pe=dt,pt=g({inheritAttrs:!1,__name:"ToastViewport",props:{hotkey:{type:Array,required:!1,default:()=>["F8"]},label:{type:[String,Function],required:!1,default:"Notifications ({hotkey})"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"ol"}},setup(n){const s=n,{hotkey:a,label:t}=_e(s),{forwardRef:o,currentElement:d}=V(),{CollectionSlot:_,getItems:r}=ae(),i=Y(),p=S(()=>i.toastCount.value>0),y=x(),h=x(),A=S(()=>a.value.join("+").replace(/Key/g,"").replace(/Digit/g,""));Te(a.value,()=>{d.value.focus()}),oe(()=>{i.onViewportChange(d.value)}),ye(P=>{const v=d.value;if(p.value&&v){const w=()=>{if(!i.isClosePausedRef.value){const l=new CustomEvent(te);v.dispatchEvent(l),i.isClosePausedRef.value=!0}},E=()=>{if(i.isClosePausedRef.value){const l=new CustomEvent(se);v.dispatchEvent(l),i.isClosePausedRef.value=!1}},I=l=>{!v.contains(l.relatedTarget)&&E()},m=()=>{v.contains(J())||E()},T=l=>{var q,B,R;const b=l.altKey||l.ctrlKey||l.metaKey;if(l.key==="Tab"&&!b){const Q=J(),O=l.shiftKey;if(l.target===v&&O){(q=y.value)==null||q.focus();return}const K=L({tabbingDirection:O?"backwards":"forwards"}),X=K.findIndex(he=>he===Q);G(K.slice(X+1))?l.preventDefault():O?(B=y.value)==null||B.focus():(R=h.value)==null||R.focus()}};v.addEventListener("focusin",w),v.addEventListener("focusout",I),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",m),v.addEventListener("keydown",T),window.addEventListener("blur",w),window.addEventListener("focus",E),P(()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",I),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",m),v.removeEventListener("keydown",T),window.removeEventListener("blur",w),window.removeEventListener("focus",E)})}});function L({tabbingDirection:P}){const w=r().map(E=>E.ref).map(E=>{const I=[E,...Me(E)];return P==="forwards"?I:I.reverse()});return(P==="forwards"?w.reverse():w).flat()}return(P,v)=>(u(),c(e($e),{role:"region","aria-label":typeof e(t)=="string"?e(t).replace("{hotkey}",A.value):e(t)(A.value),tabindex:"-1",style:ke({pointerEvents:p.value?void 0:"none"})},{default:f(()=>[p.value?(u(),c(pe,{key:0,ref:w=>{y.value=e(le)(w)},onFocusFromOutsideViewport:v[0]||(v[0]=()=>{const w=L({tabbingDirection:"forwards"});e(G)(w)})},null,512)):M("v-if",!0),F(e(_),null,{default:f(()=>[F(e($),D({ref:e(o),tabindex:"-1",as:P.as,"as-child":P.asChild},P.$attrs),{default:f(()=>[C(P.$slots,"default")]),_:3},16,["as","as-child"])]),_:3}),p.value?(u(),c(pe,{key:1,ref:w=>{h.value=e(le)(w)},onFocusFromOutsideViewport:v[1]||(v[1]=()=>{const w=L({tabbingDirection:"backwards"});e(G)(w)})},null,512)):M("v-if",!0)]),_:3},8,["aria-label","style"]))}}),ct=pt;const ft=g({__name:"Toast",props:{class:{},variant:{},onOpenChange:{type:Function},defaultOpen:{type:Boolean},forceMount:{type:Boolean},type:{},open:{type:Boolean},duration:{},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd","update:open"],setup(n,{emit:s}){const a=n,t=s,o=S(()=>{const{class:_,...r}=a;return r}),d=be(o,t);return(_,r)=>(u(),c(e(it),D(e(d),{class:e(U)(e(wt)({variant:_.variant}),a.class),"onUpdate:open":_.onOpenChange}),{default:f(()=>[C(_.$slots,"default")]),_:3},16,["class","onUpdate:open"]))}}),vt=g({__name:"ToastClose",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const s=n,a=S(()=>{const{class:t,...o}=s;return o});return(t,o)=>(u(),c(e(at),D(a.value,{class:e(U)("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s.class)}),{default:f(()=>[F(e(Le),{class:"h-4 w-4"})]),_:1},16,["class"]))}}),ce=g({__name:"ToastDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const s=n,a=S(()=>{const{class:t,...o}=s;return o});return(t,o)=>(u(),c(e(rt),D({class:e(U)("text-sm opacity-90",s.class)},a.value),{default:f(()=>[C(t.$slots,"default")]),_:3},16,["class"]))}}),mt=g({__name:"ToastProvider",props:{label:{},duration:{},swipeDirection:{},swipeThreshold:{}},setup(n){const s=n;return(a,t)=>(u(),c(e(Ue),re(ne(s)),{default:f(()=>[C(a.$slots,"default")]),_:3},16))}}),_t=g({__name:"ToastTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const s=n,a=S(()=>{const{class:t,...o}=s;return o});return(t,o)=>(u(),c(e(ut),D(a.value,{class:e(U)("text-sm font-semibold [&+div]:text-xs",s.class)}),{default:f(()=>[C(t.$slots,"default")]),_:3},16,["class"]))}}),yt=g({__name:"ToastViewport",props:{hotkey:{},label:{type:[String,Function]},asChild:{type:Boolean},as:{},class:{}},setup(n){const s=n,a=S(()=>{const{class:t,...o}=s;return o});return(t,o)=>(u(),c(e(ct),D(a.value,{class:e(U)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s.class)}),null,16,["class"]))}}),wt=Be("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--reka-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--reka-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Tt={class:"grid gap-1"},Ft=g({__name:"Toaster",setup(n){const{toasts:s}=qe();return(a,t)=>(u(),c(e(mt),null,{default:f(()=>[(u(!0),Z(ee,null,Re(e(s),o=>(u(),c(e(ft),D({key:o.id,ref_for:!0},o),{default:f(()=>[De("div",Tt,[o.title?(u(),c(e(_t),{key:0},{default:f(()=>[z(H(o.title),1)]),_:2},1024)):M("",!0),o.description?(u(),Z(ee,{key:1},[Se(o.description)?(u(),c(e(ce),{key:0},{default:f(()=>[(u(),c(ie(o.description)))]),_:2},1024)):(u(),c(e(ce),{key:1},{default:f(()=>[z(H(o.description),1)]),_:2},1024))],64)):M("",!0),F(e(vt))]),(u(),c(ie(o.action)))]),_:2},1040))),128)),F(e(yt))]),_:1}))}});export{Ft as _};
