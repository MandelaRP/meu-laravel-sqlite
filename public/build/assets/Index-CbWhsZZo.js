import{r as g,n as be,C as M,k as R,c as z,o as m,a as o,u as e,m as xe,b as r,d as l,f as a,e as E,h as x,j as U,i as w,F as W,g as _e,t as p,v as Y,A as Z,B as ee}from"./app-rxSkm_8n.js";import{a as te,b as oe,c as re,d as Ce,e as we,f as $e,g as se,_ as ke}from"./AppLayout.vue_vue_type_script_setup_true_lang-BwOLDhhL.js";import{_ as ye,a as Ve}from"./CardContent.vue_vue_type_script_setup_true_lang-t8QW7drv.js";import{_ as Se}from"./CardDescription.vue_vue_type_script_setup_true_lang-C3akIHir.js";import{_ as De,a as ze}from"./CardTitle.vue_vue_type_script_setup_true_lang-D-Ey-PXk.js";import{_ as Ee,a as he,b as ae,c as h,d as Ae,e as A}from"./TableHeader.vue_vue_type_script_setup_true_lang-BlkaBjXq.js";import{_ as Ue}from"./index-DB509qdv.js";import{_ as u}from"./Button.vue_vue_type_script_setup_true_lang-CZrugS0B.js";import{_ as j}from"./Input.vue_vue_type_script_setup_true_lang-DYiRcBo-.js";import{_ as $}from"./Label.vue_vue_type_script_setup_true_lang-oy-9Lx9Q.js";import{_ as Fe,a as Te,b as Be,c as Ne,d as P}from"./SelectValue.vue_vue_type_script_setup_true_lang-2pPvREZz.js";import{_ as L,a as q,b as I,c as G,d as O}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DL60ihD0.js";import{_ as Q}from"./DialogFooter.vue_vue_type_script_setup_true_lang-zwGg7kAD.js";import{_ as Me}from"./TooltipProvider.vue_vue_type_script_setup_true_lang-D57CCHmd.js";import{_ as le}from"./Switch.vue_vue_type_script_setup_true_lang-BC1YdU-l.js";import{l as k}from"./index-DjQHJRhy.js";import{T as ne}from"./tag-NRaEFR75.js";import{D as je}from"./download-BEj8E_jt.js";import{P as de}from"./plus-C42tnu2a.js";import{S as Pe}from"./search-YOeA7xce.js";import{F as Le}from"./filter-Bo24e_UH.js";import{P as qe}from"./package-B8fsICZ3.js";import{E as Ie}from"./ellipsis-BOcdY87u.js";import{S as Ge}from"./square-pen-KuGDfjyJ.js";import{T as Oe}from"./trash-2-DWiOVytd.js";import{A as Qe,a as Xe,b as He}from"./arrow-up-Cq3DMFG3.js";import{C as Je}from"./circle-check-big-CYSTrOyz.js";import{C as Ke}from"./circle-x-CSTlnPXJ.js";import"./utils-CytzSlOG.js";import"./index-CNtfqitb.js";import"./index-XW9fu56b.js";import"./floating-ui.vue-CZZPkfLm.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./x-3FGPxMN9.js";import"./createLucideIcon-C3bDf7p4.js";import"./wallet-xIOSN7AQ.js";import"./credit-card-DPATrQHH.js";import"./shopping-cart-CIHs1TUy.js";import"./users-CTj-7I4Q.js";import"./building-2-Bs7tmiXJ.js";import"./chevron-right-CuoNnNmV.js";import"./useForwardExpose-DMzqEU9f.js";import"./nullish-CHIgUVhi.js";import"./Primitive-BrnKrBYL.js";import"./user-BzOG761P.js";import"./VisuallyHidden-BSu4F0qb.js";import"./Collection-DhgCJFi0.js";import"./useId-twxlRIXh.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./check-DXIJwO3F.js";import"./utils-pWec8FuC.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./useFormControl-BXJ2ZBjh.js";import"./VisuallyHiddenInput-CayQaC_l.js";const Re={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 w-full max-w-7xl mx-auto"},We={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},Ye={class:"flex items-center gap-2"},Ze={class:"flex flex-col sm:flex-row gap-4 mt-6"},et={class:"relative flex-1"},tt={class:"overflow-x-auto"},ot={class:"flex items-center gap-3"},rt={class:"font-medium text-foreground"},st={class:"truncate"},at={class:"flex items-center gap-2"},lt={class:"font-medium text-foreground"},nt={class:"flex items-center gap-1"},dt={key:0,class:"flex flex-col items-center justify-center py-12 text-center"},it={class:"bg-muted rounded-full p-3 mb-4"},ut={class:"text-muted-foreground max-w-sm"},mt={class:"flex gap-2 mt-4"},ft={class:"space-y-2"},ct={key:0,class:"text-sm text-destructive"},pt={class:"space-y-2"},gt={class:"flex items-center space-x-2"},vt={class:"space-y-2"},bt={key:0,class:"text-sm text-destructive"},xt={class:"space-y-2"},_t={class:"flex items-center space-x-2"},wo={__name:"Index",props:{categories:{type:Array,default:()=>[]}},setup(ie){const ue=ie,_=g(""),v=g("all"),f=g(null),y=g("desc"),V=g(!1),S=g(!1),D=g(!1),b=g(null),me=[{title:"Dashboard",href:"/dashboard"},{title:"Categorias",href:"/seller/categories"}],fe=be().props.auth.user,i=M({name:"",description:"",status:!0}),d=M({name:"",description:"",status:!0}),F=n=>n?{color:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/20 dark:text-green-400 dark:border-green-800",label:"Ativo",icon:Je}:{color:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800",label:"Inativo",icon:Ke},T=n=>{f.value===n?y.value=y.value==="asc"?"desc":"asc":(f.value=n,y.value="desc")},B=n=>f.value!==n?Qe:y.value==="asc"?Xe:He,X=R(()=>{const n=ue.categories.filter(t=>{const s=t.name.toLowerCase().includes(_.value.toLowerCase())||t.description&&t.description.toLowerCase().includes(_.value.toLowerCase()),c=v.value==="all"||v.value==="active"&&t.status||v.value==="inactive"&&!t.status;return s&&c});return f.value&&n.sort((t,s)=>{let c=t[f.value],C=s[f.value];return f.value==="products_count"&&(c=(c||0).toString(),C=(C||0).toString()),f.value==="created_at"&&(c=new Date(c).getTime().toString(),C=new Date(C).getTime().toString()),y.value==="asc"?c.localeCompare(C):C.localeCompare(c)}),n}),ce=()=>{_.value="",v.value="all"},N=R(()=>_.value||v.value!=="all"),H=()=>{i.reset(),V.value=!0},pe=n=>{b.value=n,d.name=n.name,d.description=n.description||"",d.status=n.status,S.value=!0},ge=n=>{b.value=n,D.value=!0},J=()=>{i.post(route("categories.store",fe.id),{errorBag:"createForm",onSuccess:()=>{V.value=!1,i.reset(),k.success("Categoria criada com sucesso")},onError:n=>{console.log(n),n.fatal&&k.error(n.fatal[0])}})},K=()=>{d.put(route("categories.update",b.value.id),{errorBag:"editForm",onSuccess:()=>{S.value=!1,b.value=null,k.info("Categoria atualizada com sucesso")},onError:()=>{k.error("Erro ao atualizar categoria")}})},ve=()=>{M().delete(route("categories.destroy",b.value.id),{onSuccess:()=>{D.value=!1,b.value=null,k.success("Categoria excluída com sucesso")},onError:n=>{console.log(n),k.error("Erro ao excluir categoria")}})};return(n,t)=>(m(),z(W,null,[o(e(xe),{title:"Categorias"}),o(ke,{breadcrumbs:me},{default:r(()=>[o(e(Me),null,{default:r(()=>[l("div",Re,[o(e(ye),{class:"w-full border-border bg-card"},{default:r(()=>[o(e(De),{class:"pb-4"},{default:r(()=>[l("div",We,[l("div",null,[o(e(ze),{class:"text-2xl font-bold text-card-foreground flex items-center gap-2"},{default:r(()=>[o(e(ne),{class:"h-6 w-6"}),t[17]||(t[17]=a(" Gerenciar Categorias "))]),_:1}),o(e(Se),{class:"text-base mt-1 text-muted-foreground"},{default:r(()=>t[18]||(t[18]=[a(" Organize seus produtos em categorias para melhor navegação ")])),_:1})]),l("div",Ye,[o(e(te),null,{default:r(()=>[o(e(oe),{"as-child":""},{default:r(()=>[o(e(u),{variant:"outline",size:"sm",class:"border-border hover:bg-accent hover:text-accent-foreground"},{default:r(()=>[o(e(je),{class:"h-4 w-4 mr-2"}),t[19]||(t[19]=a(" Exportar "))]),_:1})]),_:1}),o(e(re),null,{default:r(()=>t[20]||(t[20]=[l("p",null,"Exportar lista de categorias",-1)])),_:1})]),_:1}),o(e(te),null,{default:r(()=>[o(e(oe),{"as-child":""},{default:r(()=>[o(e(u),{onClick:H,size:"sm",class:"bg-primary text-primary-foreground hover:bg-primary/90"},{default:r(()=>[o(e(de),{class:"h-4 w-4 mr-2"}),t[21]||(t[21]=a(" Nova Categoria "))]),_:1})]),_:1}),o(e(re),null,{default:r(()=>t[22]||(t[22]=[l("p",null,"Criar nova categoria",-1)])),_:1})]),_:1})])]),l("div",Ze,[l("div",et,[o(e(Pe),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o(e(j),{modelValue:_.value,"onUpdate:modelValue":t[0]||(t[0]=s=>_.value=s),placeholder:"Buscar por nome ou descrição...",class:"pl-10 bg-background border-border text-foreground placeholder:text-muted-foreground"},null,8,["modelValue"])]),o(e(Fe),{modelValue:v.value,"onUpdate:modelValue":t[1]||(t[1]=s=>v.value=s)},{default:r(()=>[o(e(Te),{class:"w-full sm:w-[180px] bg-background border-border text-foreground"},{default:r(()=>[o(e(Le),{class:"h-4 w-4 mr-2 text-muted-foreground"}),o(e(Be),{placeholder:"Status"})]),_:1}),o(e(Ne),{class:"bg-popover border-border"},{default:r(()=>[o(e(P),{value:"all",class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground"},{default:r(()=>t[23]||(t[23]=[a(" Todos os Status")])),_:1}),o(e(P),{value:"active",class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground"},{default:r(()=>t[24]||(t[24]=[a("Ativo")])),_:1}),o(e(P),{value:"inactive",class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground"},{default:r(()=>t[25]||(t[25]=[a("Inativo")])),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1}),o(e(Ve),{class:"p-0"},{default:r(()=>[l("div",tt,[o(e(Ee),null,{default:r(()=>[o(e(he),null,{default:r(()=>[o(e(ae),{class:"bg-muted/50 border-border hover:bg-muted/50"},{default:r(()=>[o(e(h),{class:"font-semibold text-muted-foreground"},{default:r(()=>[o(e(u),{variant:"ghost",size:"sm",onClick:t[2]||(t[2]=s=>T("name")),class:"h-auto p-0 font-semibold hover:bg-transparent text-muted-foreground hover:text-foreground"},{default:r(()=>[t[26]||(t[26]=a(" Categoria ")),(m(),x(U(B("name")),{class:w(["h-4 w-4 ml-1",f.value==="name"?"text-foreground":"opacity-50"])},null,8,["class"]))]),_:1})]),_:1}),o(e(h),{class:"font-semibold text-muted-foreground"},{default:r(()=>t[27]||(t[27]=[a("Descrição")])),_:1}),o(e(h),{class:"font-semibold text-muted-foreground"},{default:r(()=>[o(e(u),{variant:"ghost",size:"sm",onClick:t[3]||(t[3]=s=>T("status")),class:"h-auto p-0 font-semibold hover:bg-transparent text-muted-foreground hover:text-foreground"},{default:r(()=>[t[28]||(t[28]=a(" Status ")),(m(),x(U(B("status")),{class:w(["h-4 w-4 ml-1",f.value==="status"?"text-foreground":"opacity-50"])},null,8,["class"]))]),_:1})]),_:1}),o(e(h),{class:"font-semibold text-muted-foreground"},{default:r(()=>[o(e(u),{variant:"ghost",size:"sm",onClick:t[4]||(t[4]=s=>T("products_count")),class:"h-auto p-0 font-semibold hover:bg-transparent text-muted-foreground hover:text-foreground"},{default:r(()=>[t[29]||(t[29]=a(" Produtos ")),(m(),x(U(B("products_count")),{class:w(["h-4 w-4 ml-1",f.value==="products_count"?"text-foreground":"opacity-50"])},null,8,["class"]))]),_:1})]),_:1}),o(e(h),{class:"font-semibold text-muted-foreground"},{default:r(()=>t[30]||(t[30]=[a("Ações")])),_:1})]),_:1})]),_:1}),o(e(Ae),null,{default:r(()=>[(m(!0),z(W,null,_e(X.value,s=>(m(),x(e(ae),{key:s.id,class:"border-border hover:bg-muted/50 transition-colors"},{default:r(()=>[o(e(A),null,{default:r(()=>[l("div",ot,[l("div",null,[l("div",rt,p(s.name),1)])])]),_:2},1024),o(e(A),{class:"text-foreground max-w-xs"},{default:r(()=>[l("div",st,p(s.description||"-"),1)]),_:2},1024),o(e(A),null,{default:r(()=>[o(e(Ue),{variant:"outline",class:w(`${F(s.status).color} font-medium`)},{default:r(()=>[(m(),x(U(F(s.status).icon),{class:"h-3 w-3 mr-1"})),a(" "+p(F(s.status).label),1)]),_:2},1032,["class"])]),_:2},1024),o(e(A),null,{default:r(()=>[l("div",at,[o(e(qe),{class:"h-4 w-4 text-muted-foreground"}),l("span",lt,p(s.products_count||0),1)])]),_:2},1024),o(e(A),null,{default:r(()=>[l("div",nt,[o(e(Ce),null,{default:r(()=>[o(e(we),{"as-child":""},{default:r(()=>[o(e(u),{variant:"ghost",size:"sm",class:"h-8 w-8 p-0 hover:bg-accent hover:text-accent-foreground"},{default:r(()=>[o(e(Ie),{class:"h-4 w-4"})]),_:1})]),_:1}),o(e($e),{align:"end",class:"bg-popover border-border"},{default:r(()=>[o(e(se),{onClick:c=>pe(s),class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground"},{default:r(()=>[o(e(Ge),{class:"mr-2 h-4 w-4"}),t[31]||(t[31]=a(" Editar "))]),_:2},1032,["onClick"]),o(e(se),{onClick:c=>ge(s),class:"text-destructive hover:bg-destructive/10"},{default:r(()=>[o(e(Oe),{class:"mr-2 h-4 w-4"}),t[32]||(t[32]=a(" Excluir "))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),X.value.length===0?(m(),z("div",dt,[l("div",it,[o(e(ne),{class:"h-6 w-6 text-muted-foreground"})]),t[35]||(t[35]=l("h3",{class:"text-lg font-semibold text-foreground mb-2"},"Nenhuma categoria encontrada",-1)),l("p",ut,p(N.value?"Tente ajustar os filtros para encontrar as categorias desejadas.":"Quando você criar categorias, elas aparecerão aqui."),1),l("div",mt,[N.value?(m(),x(e(u),{key:0,variant:"outline",size:"sm",class:"border-border hover:bg-accent hover:text-accent-foreground",onClick:ce},{default:r(()=>t[33]||(t[33]=[a(" Limpar filtros ")])),_:1})):E("",!0),N.value?E("",!0):(m(),x(e(u),{key:1,onClick:H,size:"sm",class:"bg-primary text-primary-foreground hover:bg-primary/90"},{default:r(()=>[o(e(de),{class:"h-4 w-4 mr-2"}),t[34]||(t[34]=a(" Criar Primeira Categoria "))]),_:1}))])])):E("",!0)]),_:1})]),_:1})]),o(e(L),{open:V.value,"onUpdate:open":t[9]||(t[9]=s=>V.value=s)},{default:r(()=>[o(e(q),{class:"sm:max-w-[425px] bg-card border-border"},{default:r(()=>[o(e(I),null,{default:r(()=>[o(e(G),{class:"text-card-foreground"},{default:r(()=>t[36]||(t[36]=[a("Nova Categoria")])),_:1}),o(e(O),{class:"text-muted-foreground"},{default:r(()=>t[37]||(t[37]=[a(" Crie uma nova categoria para organizar seus produtos ")])),_:1})]),_:1}),l("form",{onSubmit:Y(J,["prevent"]),class:"space-y-4"},[l("div",ft,[o(e($),{for:"name",class:"text-foreground"},{default:r(()=>t[38]||(t[38]=[a("Nome")])),_:1}),o(e(j),{id:"name",modelValue:e(i).name,"onUpdate:modelValue":t[5]||(t[5]=s=>e(i).name=s),placeholder:"Digite o nome da categoria",class:w(["bg-background border-border text-foreground",{"border-destructive":e(i).errors.name}])},null,8,["modelValue","class"]),e(i).errors.name?(m(),z("p",ct,p(e(i).errors.name),1)):E("",!0)]),l("div",pt,[o(e($),{for:"description",class:"text-foreground"},{default:r(()=>t[39]||(t[39]=[a("Descrição")])),_:1}),Z(l("textarea",{id:"description","onUpdate:modelValue":t[6]||(t[6]=s=>e(i).description=s),placeholder:"Digite uma descrição (opcional)",rows:"3",class:"w-full min-h-[80px] resize-none rounded-md border border-border bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},null,512),[[ee,e(i).description]])]),l("div",gt,[o(e(le),{id:"status",modelValue:e(i).status,"onUpdate:modelValue":t[7]||(t[7]=s=>e(i).status=s)},null,8,["modelValue"]),o(e($),{for:"status",class:"text-foreground"},{default:r(()=>t[40]||(t[40]=[a("Categoria ativa")])),_:1})])],32),o(e(Q),null,{default:r(()=>[o(e(u),{variant:"outline",onClick:t[8]||(t[8]=s=>V.value=!1),class:"border-border hover:bg-accent"},{default:r(()=>t[41]||(t[41]=[a(" Cancelar ")])),_:1}),o(e(u),{onClick:J,disabled:e(i).processing,class:"bg-primary text-primary-foreground hover:bg-primary/90"},{default:r(()=>[a(p(e(i).processing?"Criando...":"Criar Categoria"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),o(e(L),{open:S.value,"onUpdate:open":t[14]||(t[14]=s=>S.value=s)},{default:r(()=>[o(e(q),{class:"sm:max-w-[425px] bg-card border-border"},{default:r(()=>[o(e(I),null,{default:r(()=>[o(e(G),{class:"text-card-foreground"},{default:r(()=>t[42]||(t[42]=[a("Editar Categoria")])),_:1}),o(e(O),{class:"text-muted-foreground"},{default:r(()=>t[43]||(t[43]=[a(" Atualize as informações da categoria ")])),_:1})]),_:1}),l("form",{onSubmit:Y(K,["prevent"]),class:"space-y-4"},[l("div",vt,[o(e($),{for:"edit-name",class:"text-foreground"},{default:r(()=>t[44]||(t[44]=[a("Nome")])),_:1}),o(e(j),{id:"edit-name",modelValue:e(d).name,"onUpdate:modelValue":t[10]||(t[10]=s=>e(d).name=s),placeholder:"Digite o nome da categoria",class:w(["bg-background border-border text-foreground",{"border-destructive":e(d).errors.name}])},null,8,["modelValue","class"]),e(d).errors.name?(m(),z("p",bt,p(e(d).errors.name),1)):E("",!0)]),l("div",xt,[o(e($),{for:"edit-description",class:"text-foreground"},{default:r(()=>t[45]||(t[45]=[a("Descrição")])),_:1}),Z(l("textarea",{id:"edit-description","onUpdate:modelValue":t[11]||(t[11]=s=>e(d).description=s),placeholder:"Digite uma descrição (opcional)",rows:"3",class:"w-full min-h-[80px] resize-none rounded-md border border-border bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},null,512),[[ee,e(d).description]])]),l("div",_t,[o(e(le),{id:"edit-status",modelValue:e(d).status,"onUpdate:modelValue":t[12]||(t[12]=s=>e(d).status=s)},null,8,["modelValue"]),o(e($),{for:"edit-status",class:"text-foreground"},{default:r(()=>t[46]||(t[46]=[a("Categoria ativa")])),_:1})])],32),o(e(Q),null,{default:r(()=>[o(e(u),{variant:"outline",onClick:t[13]||(t[13]=s=>S.value=!1),class:"border-border hover:bg-accent"},{default:r(()=>t[47]||(t[47]=[a(" Cancelar ")])),_:1}),o(e(u),{onClick:K,disabled:e(d).processing,class:"bg-primary text-primary-foreground hover:bg-primary/90"},{default:r(()=>[a(p(e(d).processing?"Salvando...":"Salvar Alterações"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),o(e(L),{open:D.value,"onUpdate:open":t[16]||(t[16]=s=>D.value=s)},{default:r(()=>[o(e(q),{class:"sm:max-w-[425px] bg-card border-border"},{default:r(()=>[o(e(I),null,{default:r(()=>[o(e(G),{class:"text-card-foreground"},{default:r(()=>t[48]||(t[48]=[a("Confirmar Exclusão")])),_:1}),o(e(O),{class:"text-muted-foreground"},{default:r(()=>{var s;return[a(' Tem certeza que deseja excluir a categoria "'+p((s=b.value)==null?void 0:s.name)+'"? Esta ação não pode ser desfeita. ',1)]}),_:1})]),_:1}),o(e(Q),null,{default:r(()=>[o(e(u),{variant:"outline",onClick:t[15]||(t[15]=s=>D.value=!1),class:"border-border hover:bg-accent"},{default:r(()=>t[49]||(t[49]=[a(" Cancelar ")])),_:1}),o(e(u),{variant:"destructive",onClick:ve},{default:r(()=>t[50]||(t[50]=[a(" Excluir Categoria ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})]),_:1})],64))}};export{wo as default};
