import{_ as T}from"./AppLayout.vue_vue_type_script_setup_true_lang-CrF1FF1Y.js";import{r as q,c as R,o as B,a as t,u as a,m as N,b as o,d,f as l,F as X,s as D}from"./app-S3kx2b0d.js";import{_ as c,a as g}from"./CardContent.vue_vue_type_script_setup_true_lang-DPkaWiTn.js";import{_ as v}from"./CardDescription.vue_vue_type_script_setup_true_lang-knWyrEK6.js";import{_ as b,a as w}from"./CardTitle.vue_vue_type_script_setup_true_lang-Bn8k43WC.js";import{_ as O}from"./Button.vue_vue_type_script_setup_true_lang-Bu1_OuLZ.js";import{_ as u}from"./Input.vue_vue_type_script_setup_true_lang-Zo94wQZG.js";import{_ as z,a as G,b as H,c as J,d as A}from"./SelectValue.vue_vue_type_script_setup_true_lang-TPDm6Qj2.js";import{_}from"./Switch.vue_vue_type_script_setup_true_lang-CajfjE_Q.js";import{_ as i}from"./Label.vue_vue_type_script_setup_true_lang-Y6gPyrr0.js";import{u as K}from"./use-toast-DniFefJe.js";import{_ as L}from"./Toaster.vue_vue_type_script_setup_true_lang-CAe8f8AS.js";import{W as Q}from"./wallet-W4yJT2z-.js";import{P as Y}from"./percent-BNzyE9gX.js";import{S as Z}from"./shield-CkZ4ITrI.js";import{C as ee}from"./credit-card-LFa5ma_M.js";import{S as te}from"./save-CsCaLCMH.js";import"./utils-CytzSlOG.js";import"./index-BszNJtDQ.js";import"./index-BGfks83y.js";import"./floating-ui.vue-Bsqwf4g4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./x-Dj8XHr1q.js";import"./createLucideIcon-B4R1MoSR.js";import"./package-q04n0eFj.js";import"./shopping-cart-SOVwChfQ.js";import"./users-C6A098f4.js";import"./building-2-BRWwAQkA.js";import"./chevron-right-BTpdya_p.js";import"./useForwardExpose-BFkC9Kdc.js";import"./nullish-CHIgUVhi.js";import"./Primitive-odI4fKTA.js";import"./user-Bs-aP_A5.js";import"./VisuallyHidden-BAG-HCFC.js";import"./Collection--76CoLyc.js";import"./useId-xuC_jKGz.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./check-B_oeUEI1.js";import"./utils-Bd7HeyaL.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./useFormControl-ZbpTWXBx.js";import"./VisuallyHiddenInput-CspRZqUR.js";const ae={class:"mt-2 sm:mt-4 flex h-full flex-1 flex-col gap-6 p-2 sm:p-4 w-full mx-auto"},se={class:"flex flex-col md:flex-row md:flex-wrap gap-4 md:gap-6 max-w-7xl mx-auto"},re={class:"flex items-center gap-3"},oe={class:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-500"},de={class:"space-y-2"},le={class:"space-y-2"},ie={class:"space-y-2"},ne={class:"space-y-2"},me={class:"flex items-center gap-3"},ue={class:"flex h-10 w-10 items-center justify-center rounded-lg bg-green-500"},pe={class:"space-y-2"},fe={class:"space-y-2"},xe={class:"flex items-center gap-3"},ce={class:"flex h-10 w-10 items-center justify-center rounded-lg bg-yellow-500"},ge={class:"flex items-center justify-between"},ve={class:"space-y-2"},be={class:"space-y-2"},we={class:"flex items-center gap-3"},_e={class:"flex h-10 w-10 items-center justify-center rounded-lg bg-purple-500"},ye={class:"flex items-center justify-between"},Pe={class:"flex items-center justify-between"},Fe={class:"flex items-center justify-between"},he={class:"flex justify-center pt-6 max-w-4xl mx-auto"},xt={__name:"Index",props:{settings:{type:Object,default:()=>({gateway_pix_percentage:0,gateway_pix_fixed:1,payment_method_pix:!0,payment_method_credit_card:!0,payment_method_boleto:!0})}},setup(I){var F,h,V,k,W,M,S,$,C,E;const U=[{title:"Dashboard",href:"/dashboard"},{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Configurações",href:"/admin/settings"}],n=I,{toast:P}=K(),r=q({transferMode:((F=n.settings)==null?void 0:F.transfer_mode)==="automatico"?"Saque Automático":(((h=n.settings)==null?void 0:h.transfer_mode)==="manual","Enviar para Análise"),minWithdraw:String(((V=n.settings)==null?void 0:V.min_withdraw)??10).replace(".",","),fixedWithdrawFee:String(((k=n.settings)==null?void 0:k.fixed_withdraw_fee)??5).replace(".",","),percentWithdrawFee:String(((W=n.settings)==null?void 0:W.percent_withdraw_fee)??0).replace(".",","),pixFee:"2,99",gatewayFeePercentage:"2,99",gatewayPixPercentage:String(((M=n.settings)==null?void 0:M.gateway_pix_percentage)??0),gatewayPixFixed:String(((S=n.settings)==null?void 0:S.gateway_pix_fixed)??1),reserveEnabled:!1,reservePercent:"0",reserveMax:"1000000,00",methods:{pix:(($=n.settings)==null?void 0:$.payment_method_pix)??!0,card:((C=n.settings)==null?void 0:C.payment_method_credit_card)??!0,boleto:((E=n.settings)==null?void 0:E.payment_method_boleto)??!0}}),p=(m,e)=>{const s=e.replace(/[^\d,]/g,""),f=parseFloat(s.replace(",","."));isNaN(f)?s===""&&(r.value[m]=""):r.value[m]=s},y=(m,e)=>{const s=e.replace(/[^\d,]/g,"");r.value[m]=s},j=async()=>{var m,e,s,f;try{const x={gatewayFeePercentage:parseFloat(r.value.gatewayFeePercentage.replace(",","."))||0,gatewayPixPercentage:parseFloat(((m=r.value.gatewayPixPercentage)==null?void 0:m.replace(",","."))||"0")||0,gatewayPixFixed:parseFloat(((e=r.value.gatewayPixFixed)==null?void 0:e.replace(",","."))||"0")||0,payment_method_pix:r.value.methods.pix,payment_method_credit_card:r.value.methods.card,payment_method_boleto:r.value.methods.boleto,pixFee:parseFloat(r.value.pixFee.replace(",","."))||0,minWithdraw:parseFloat(r.value.minWithdraw.replace(",","."))||0,fixedWithdrawFee:parseFloat(r.value.fixedWithdrawFee.replace(",","."))||0,percentWithdrawFee:parseFloat(r.value.percentWithdrawFee.replace(",","."))||0,reserveEnabled:r.value.reserveEnabled,reservePercent:parseFloat(r.value.reservePercent.replace(",","."))||0,reserveMax:parseFloat(r.value.reserveMax.replace(",",".").replace(/\./g,""))||0,transferMode:r.value.transferMode==="Saque Automático"?"automatico":"manual",methods:r.value.methods},Ve=await D.post(route("admin.settings.update"),x);P({title:"Configurações salvas com sucesso!",description:"Todas as alterações foram aplicadas ao sistema."})}catch(x){console.error("Erro ao salvar configurações:",x),P({title:"Erro ao salvar configurações",description:((f=(s=x.response)==null?void 0:s.data)==null?void 0:f.message)||"Ocorreu um erro ao salvar. Tente novamente.",variant:"destructive"})}};return(m,e)=>(B(),R(X,null,[t(a(N),{title:"Configurações do Sistema"}),t(T,{breadcrumbs:U},{default:o(()=>[d("div",ae,[e[45]||(e[45]=d("div",{class:"space-y-1"},[d("div",{class:"flex items-center justify-between"},[d("div",null,[d("p",{class:"text-sm text-muted-foreground/80 mb-1"},"Bem-vindo, Admin"),d("h2",{class:"text-2xl sm:text-3xl font-bold tracking-tight"},"Configurações do Sistema"),d("p",{class:"text-sm sm:text-base text-muted-foreground/80 mt-1"}," Configure as taxas e parâmetros do sistema. ")])])],-1)),d("div",se,[t(a(c),{class:"border-border bg-card rounded-2xl shadow-md flex-1 md:min-w-[calc(50%-12px)] lg:min-w-[calc(50%-18px)]"},{default:o(()=>[t(a(b),{class:"pb-4"},{default:o(()=>[d("div",re,[d("div",oe,[t(a(Q),{class:"h-5 w-5 text-white"})]),d("div",null,[t(a(w),{class:"text-base sm:text-lg"},{default:o(()=>e[19]||(e[19]=[l("Transferências e Saques")])),_:1}),t(a(v),{class:"text-sm mt-1"},{default:o(()=>e[20]||(e[20]=[l(" Configure os parâmetros de transferência de saldo. ")])),_:1})])])]),_:1}),t(a(g),{class:"space-y-4"},{default:o(()=>[d("div",de,[t(a(i),{for:"transferMode",class:"text-sm font-medium"},{default:o(()=>e[21]||(e[21]=[l("Modo de Transferência")])),_:1}),t(a(z),{modelValue:r.value.transferMode,"onUpdate:modelValue":e[0]||(e[0]=s=>r.value.transferMode=s)},{default:o(()=>[t(a(G),{id:"transferMode",class:"bg-background border-border"},{default:o(()=>[t(a(H),{placeholder:"Selecione o modo"})]),_:1}),t(a(J),{class:"bg-popover border-border"},{default:o(()=>[t(a(A),{value:"Saque Automático",class:"text-popover-foreground"},{default:o(()=>e[22]||(e[22]=[l(" Saque Automático ")])),_:1}),t(a(A),{value:"Enviar para Análise",class:"text-popover-foreground"},{default:o(()=>e[23]||(e[23]=[l(" Enviar para Análise ")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),d("div",le,[t(a(i),{for:"minWithdraw",class:"text-sm font-medium"},{default:o(()=>e[24]||(e[24]=[l("Valor Mínimo para Saque")])),_:1}),t(a(u),{id:"minWithdraw",modelValue:r.value.minWithdraw,"onUpdate:modelValue":e[1]||(e[1]=s=>r.value.minWithdraw=s),placeholder:"R$ 10,00",class:"bg-background border-border",onInput:e[2]||(e[2]=s=>p("minWithdraw",s.target.value))},null,8,["modelValue"])]),d("div",ie,[t(a(i),{for:"fixedWithdrawFee",class:"text-sm font-medium"},{default:o(()=>e[25]||(e[25]=[l("Taxa Fixa de Saque")])),_:1}),t(a(u),{id:"fixedWithdrawFee",modelValue:r.value.fixedWithdrawFee,"onUpdate:modelValue":e[3]||(e[3]=s=>r.value.fixedWithdrawFee=s),placeholder:"R$ 5,00",class:"bg-background border-border",onInput:e[4]||(e[4]=s=>p("fixedWithdrawFee",s.target.value))},null,8,["modelValue"])]),d("div",ne,[t(a(i),{for:"percentWithdrawFee",class:"text-sm font-medium"},{default:o(()=>e[26]||(e[26]=[l("Taxa Percentual de Saque")])),_:1}),t(a(u),{id:"percentWithdrawFee",modelValue:r.value.percentWithdrawFee,"onUpdate:modelValue":e[5]||(e[5]=s=>r.value.percentWithdrawFee=s),placeholder:"0%",class:"bg-background border-border",onInput:e[6]||(e[6]=s=>y("percentWithdrawFee",s.target.value))},null,8,["modelValue"])])]),_:1})]),_:1}),t(a(c),{class:"border-border bg-card rounded-2xl shadow-md flex-1 md:min-w-[calc(50%-12px)] lg:min-w-[calc(50%-18px)]"},{default:o(()=>[t(a(b),{class:"pb-4"},{default:o(()=>[d("div",me,[d("div",ue,[t(a(Y),{class:"h-5 w-5 text-white"})]),d("div",null,[t(a(w),{class:"text-base sm:text-lg"},{default:o(()=>e[27]||(e[27]=[l("Taxas PIX e Gateway")])),_:1}),t(a(v),{class:"text-sm mt-1"},{default:o(()=>e[28]||(e[28]=[l(" Configure as taxas para transações PIX e comissão da gateway. ")])),_:1})])])]),_:1}),t(a(g),{class:"space-y-4"},{default:o(()=>[d("div",pe,[t(a(i),{for:"gatewayPixFixed",class:"text-sm font-medium"},{default:o(()=>e[29]||(e[29]=[l("Taxa Fixa (R$)")])),_:1}),t(a(u),{id:"gatewayPixFixed",modelValue:r.value.gatewayPixFixed,"onUpdate:modelValue":e[7]||(e[7]=s=>r.value.gatewayPixFixed=s),placeholder:"1,00",class:"bg-background border-border",onInput:e[8]||(e[8]=s=>p("gatewayPixFixed",s.target.value))},null,8,["modelValue"]),e[30]||(e[30]=d("p",{class:"text-xs text-muted-foreground"}," A taxa fixa será sempre descontada do valor total de cada PIX. ",-1))]),d("div",fe,[t(a(i),{for:"gatewayPixPercentage",class:"text-sm font-medium"},{default:o(()=>e[31]||(e[31]=[l("Taxa Percentual (%)")])),_:1}),t(a(u),{id:"gatewayPixPercentage",modelValue:r.value.gatewayPixPercentage,"onUpdate:modelValue":e[9]||(e[9]=s=>r.value.gatewayPixPercentage=s),placeholder:"2,99%",class:"bg-background border-border",onInput:e[10]||(e[10]=s=>y("gatewayPixPercentage",s.target.value))},null,8,["modelValue"]),e[32]||(e[32]=d("p",{class:"text-xs text-muted-foreground"}," A taxa percentual é aplicada sobre o valor do PIX e somada à taxa fixa. ",-1))])]),_:1})]),_:1}),t(a(c),{class:"border-border bg-card rounded-2xl shadow-md flex-1 md:min-w-[calc(50%-12px)] lg:min-w-[calc(50%-18px)]"},{default:o(()=>[t(a(b),{class:"pb-4"},{default:o(()=>[d("div",xe,[d("div",ce,[t(a(Z),{class:"h-5 w-5 text-white"})]),d("div",null,[t(a(w),{class:"text-base sm:text-lg"},{default:o(()=>e[33]||(e[33]=[l("Reserva Financeira")])),_:1}),t(a(v),{class:"text-sm mt-1"},{default:o(()=>e[34]||(e[34]=[l(" Configure o percentual de reserva para novos usuários. ")])),_:1})])])]),_:1}),t(a(g),{class:"space-y-4"},{default:o(()=>[d("div",ge,[t(a(i),{for:"reserveEnabled",class:"text-sm font-medium"},{default:o(()=>e[35]||(e[35]=[l("Ativar Reserva")])),_:1}),t(a(_),{id:"reserveEnabled",checked:r.value.reserveEnabled,"onUpdate:checked":e[11]||(e[11]=s=>r.value.reserveEnabled=s),class:"data-[state=checked]:bg-primary"},null,8,["checked"])]),d("div",ve,[t(a(i),{for:"reservePercent",class:"text-sm font-medium"},{default:o(()=>e[36]||(e[36]=[l("Percentual de Reserva")])),_:1}),t(a(u),{id:"reservePercent",modelValue:r.value.reservePercent,"onUpdate:modelValue":e[12]||(e[12]=s=>r.value.reservePercent=s),placeholder:"0%",class:"bg-background border-border",disabled:!r.value.reserveEnabled,onInput:e[13]||(e[13]=s=>y("reservePercent",s.target.value))},null,8,["modelValue","disabled"])]),d("div",be,[t(a(i),{for:"reserveMax",class:"text-sm font-medium"},{default:o(()=>e[37]||(e[37]=[l("Valor Máximo de Reserva")])),_:1}),t(a(u),{id:"reserveMax",modelValue:r.value.reserveMax,"onUpdate:modelValue":e[14]||(e[14]=s=>r.value.reserveMax=s),placeholder:"R$ 1.000.000,00",class:"bg-background border-border",disabled:!r.value.reserveEnabled,onInput:e[15]||(e[15]=s=>p("reserveMax",s.target.value))},null,8,["modelValue","disabled"])])]),_:1})]),_:1}),t(a(c),{class:"border-border bg-card rounded-2xl shadow-md flex-1 md:min-w-[calc(50%-12px)] lg:min-w-[calc(50%-18px)]"},{default:o(()=>[t(a(b),{class:"pb-4"},{default:o(()=>[d("div",we,[d("div",_e,[t(a(ee),{class:"h-5 w-5 text-white"})]),d("div",null,[t(a(w),{class:"text-base sm:text-lg"},{default:o(()=>e[38]||(e[38]=[l("Métodos de Pagamento")])),_:1}),t(a(v),{class:"text-sm mt-1"},{default:o(()=>e[39]||(e[39]=[l(" Ative ou desative métodos disponíveis para o sistema. ")])),_:1})])])]),_:1}),t(a(g),{class:"space-y-4"},{default:o(()=>[d("div",ye,[t(a(i),{for:"pixMethod",class:"text-sm font-medium"},{default:o(()=>e[40]||(e[40]=[l("PIX")])),_:1}),t(a(_),{id:"pixMethod",checked:r.value.methods.pix,"onUpdate:checked":e[16]||(e[16]=s=>r.value.methods.pix=s),class:"data-[state=checked]:bg-primary"},null,8,["checked"])]),d("div",Pe,[t(a(i),{for:"cardMethod",class:"text-sm font-medium"},{default:o(()=>e[41]||(e[41]=[l("Cartão de Crédito")])),_:1}),t(a(_),{id:"cardMethod",checked:r.value.methods.card,"onUpdate:checked":e[17]||(e[17]=s=>r.value.methods.card=s),class:"data-[state=checked]:bg-primary"},null,8,["checked"])]),d("div",Fe,[t(a(i),{for:"boletoMethod",class:"text-sm font-medium"},{default:o(()=>e[42]||(e[42]=[l("Boleto Bancário")])),_:1}),t(a(_),{id:"boletoMethod",checked:r.value.methods.boleto,"onUpdate:checked":e[18]||(e[18]=s=>r.value.methods.boleto=s),class:"data-[state=checked]:bg-primary"},null,8,["checked"])]),e[43]||(e[43]=d("div",{class:"p-3 bg-muted rounded-lg mt-4"},[d("p",{class:"text-xs text-muted-foreground"},[d("strong",null,"Nota:"),l(" Ao alterar um método, o sistema refletirá imediatamente nas opções de pagamento disponíveis aos usuários. ")])],-1))]),_:1})]),_:1})]),d("div",he,[t(a(O),{onClick:j,class:"bg-primary text-primary-foreground hover:bg-primary/90 px-8 py-6 text-base",size:"lg"},{default:o(()=>[t(a(te),{class:"h-5 w-5 mr-2"}),e[44]||(e[44]=l(" Salvar Configurações "))]),_:1})])]),t(L)]),_:1})],64))}};export{xt as default};
