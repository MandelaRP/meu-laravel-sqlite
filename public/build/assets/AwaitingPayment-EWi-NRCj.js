import{r as x,k as _,l as C,x as k,c as g,o as d,a as i,d as e,u as o,m as q,f as l,t as p,i as P,h as j,e as I,F as S}from"./app-S3kx2b0d.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{Q as h}from"./qr-code-Bz8uhlJj.js";import{C as v}from"./circle-check-big-CE4p1vAl.js";import{S as A}from"./smartphone-DVMWLSSb.js";import{S as B}from"./shield-CkZ4ITrI.js";import"./createLucideIcon-B4R1MoSR.js";const Q={class:"min-h-screen bg-gray-50 flex items-center justify-center p-4"},z={class:"w-full max-w-5xl bg-white rounded-xl shadow-lg p-6 md:p-8"},O={class:"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-10"},V={class:"flex flex-col space-y-6"},N={class:"text-center"},T={class:"text-sm text-gray-600"},U={class:"font-semibold text-red-600"},E={class:"flex flex-col items-center"},F={class:"bg-white p-4 rounded-lg border border-gray-300"},X=["src"],$={key:1,class:"w-[250px] h-[250px] bg-gray-100 flex items-center justify-center rounded"},D={class:"space-y-3"},L={class:"flex justify-center"},M={class:"bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 inline-block max-w-full"},G={class:"text-xs text-gray-700 font-mono whitespace-nowrap overflow-hidden"},W={class:"flex flex-col justify-center space-y-6"},H={class:"space-y-5"},J={class:"flex items-start gap-3"},K={class:"flex-shrink-0 w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mt-0.5"},Y={class:"flex items-start gap-3"},Z={class:"flex-shrink-0 w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mt-0.5"},ee={class:"flex items-start gap-3"},te={class:"flex-shrink-0 w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mt-0.5"},se={class:"pt-4 border-t border-gray-200"},ae={class:"flex items-center justify-center md:justify-start gap-2 md:gap-3 flex-wrap"},oe={class:"flex items-center gap-1.5 md:gap-2"},re={__name:"AwaitingPayment",props:{checkout:Object,sale:Object},setup(y){const a=y,c=x("15:00"),r=x(15*60);let m=null;const n=x(!1),u=()=>{const s=Math.floor(r.value/60),t=r.value%60;c.value=`${String(s).padStart(2,"0")}:${String(t).padStart(2,"0")}`,r.value--,r.value<0&&(r.value=15*60,c.value="15:00")},b=async()=>{var s;if((s=a.sale)!=null&&s.pix_qr_code)try{await navigator.clipboard.writeText(a.sale.pix_qr_code),n.value=!0,setTimeout(()=>{n.value=!1},2e3)}catch(t){console.error("Erro ao copiar código:",t)}},w=_(()=>{var t;if(!((t=a.sale)!=null&&t.pix_qr_code))return"Carregando código...";const s=a.sale.pix_qr_code;return s.length>40?s.substring(0,40)+"...":s}),f=_(()=>{var s,t;return(s=a.sale)!=null&&s.pix_qr_code_image?(a.sale.pix_qr_code_image.startsWith("data:image"),a.sale.pix_qr_code_image):(t=a.sale)!=null&&t.pix_qr_code?`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(a.sale.pix_qr_code)}`:null});return C(()=>{r.value=15*60,u(),m=setInterval(()=>{u()},1e3)}),k(()=>{m&&clearInterval(m)}),(s,t)=>(d(),g(S,null,[i(o(q),{title:"Aguardar Pagamento"}),e("div",Q,[e("div",z,[e("div",O,[e("div",V,[e("div",N,[t[1]||(t[1]=e("h1",{class:"text-xl md:text-2xl font-extrabold text-gray-950 mb-2 leading-tight"},[l(" Falta pouco! Para finalizar a compra,"),e("br"),l(" escaneie o QR Code abaixo. ")],-1)),e("p",T,[t[0]||(t[0]=l(" O código expira em: ")),e("span",U,p(c.value),1)])]),e("div",E,[e("div",F,[f.value?(d(),g("img",{key:0,src:f.value,alt:"QR Code PIX",class:"w-full max-w-[250px] h-auto"},null,8,X)):(d(),g("div",$,[i(o(h),{class:"w-24 h-24 text-gray-400"})]))])]),e("div",D,[t[2]||(t[2]=e("h3",{class:"text-sm text-gray-900 leading-relaxed text-center"},[l(" Se preferir, pague com a opção "),e("span",{class:"font-bold"},"PIX Copia e Cola"),l(": ")],-1)),e("div",L,[e("div",M,[e("p",G,p(w.value),1)])]),e("button",{onClick:b,class:P(["w-full py-2.5 px-4 rounded-lg font-semibold text-sm transition-all duration-200 flex items-center justify-center gap-2",n.value?"bg-green-600 text-white shadow-md":"bg-green-600 hover:bg-green-700 text-white shadow-sm hover:shadow-md"])},[n.value?(d(),j(o(v),{key:0,class:"w-4 h-4"})):I("",!0),l(" "+p(n.value?"Código Copiado!":"COPIAR CÓDIGO"),1)],2)])]),e("div",W,[t[9]||(t[9]=e("h2",{class:"text-base md:text-lg font-semibold text-gray-900"},"Instruções para pagamento",-1)),e("div",H,[e("div",J,[e("div",K,[i(o(A),{class:"w-5 h-5 text-green-600"})]),t[3]||(t[3]=e("div",{class:"space-y-1 flex-1"},[e("p",{class:"text-sm md:text-base text-gray-900 font-semibold leading-tight"}," Abra o app do seu banco e entre no ambiente Pix "),e("p",{class:"text-sm text-gray-600 leading-relaxed"}," Use o app do seu banco e vá até o Pix ")],-1))]),e("div",Y,[e("div",Z,[i(o(h),{class:"w-5 h-5 text-green-600"})]),t[4]||(t[4]=e("div",{class:"space-y-1 flex-1"},[e("p",{class:"text-sm md:text-base text-gray-900 font-semibold leading-tight"}," Escolha Pagar com QR Code "),e("p",{class:"text-sm text-gray-600 leading-relaxed"}," Aponte a câmera para o código QR ")],-1))]),e("div",ee,[e("div",te,[i(o(v),{class:"w-5 h-5 text-green-600"})]),t[5]||(t[5]=e("div",{class:"space-y-1 flex-1"},[e("p",{class:"text-sm md:text-base text-gray-900 font-semibold leading-tight"}," Confirme as informações e finalize "),e("p",{class:"text-sm text-gray-600 leading-relaxed"}," Verifique os dados e conclua sua compra ")],-1))])]),e("div",se,[e("div",ae,[t[7]||(t[7]=e("img",{src:"https://upload.wikimedia.org/wikipedia/commons/d/de/Logo_-_pix_powered_by_Banco_Central_%28Brazil%2C_2020%29.png",alt:"PIX Logo",class:"w-[72px] md:w-20 h-auto flex-shrink-0"},null,-1)),t[8]||(t[8]=e("div",{class:"h-6 md:h-8 w-px bg-gray-300"},null,-1)),e("div",oe,[i(o(B),{class:"w-4 h-4 md:w-5 md:h-5 text-green-600 flex-shrink-0"}),t[6]||(t[6]=e("span",{class:"text-xs md:text-sm text-gray-600"},"Ambiente seguro",-1))])])])])])])])],64))}},ge=R(re,[["__scopeId","data-v-34097c8b"]]);export{ge as default};
