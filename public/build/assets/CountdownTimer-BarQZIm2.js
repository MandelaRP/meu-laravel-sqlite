import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as g,k as a,l as D,x as U,h as H,o as i,c as u,e as C,d as t,y as m,t as l,i as h,T as N}from"./app-rxSkm_8n.js";const P={class:"relative z-10 py-2 px-3 sm:py-3 sm:px-4"},V={class:"container mx-auto max-w-6xl"},q={class:"block sm:hidden"},A={class:"flex items-center justify-center mb-2"},G={class:"flex items-center gap-2 min-w-0"},L={class:"text-base flex-shrink-0"},R={class:"flex items-center justify-center gap-2"},X={class:"bg-black/20 rounded px-1.5 py-0.5 backdrop-blur-sm"},F={class:"text-sm font-bold"},J={class:"bg-black/20 rounded px-1.5 py-0.5 backdrop-blur-sm"},K={class:"text-sm font-bold"},Q={class:"bg-black/20 rounded px-1.5 py-0.5 backdrop-blur-sm"},W={class:"text-sm font-bold"},Y={key:1,class:"flex items-center font-bold text-yellow-200 text-xs"},Z={class:"hidden sm:flex items-center justify-center"},$={class:"flex items-center gap-4"},tt={class:"flex items-center gap-3"},st={class:"relative"},et={class:"text-2xl"},ot={key:0,class:"absolute -top-1 -right-1 w-3 h-3 bg-yellow-400 rounded-full animate-ping"},lt={class:"bg-black/20 rounded-lg px-3 py-2 backdrop-blur-sm border border-white/20"},at={class:"text-2xl font-mono"},nt={class:"bg-black/20 rounded-lg px-3 py-2 backdrop-blur-sm border border-white/20"},rt={class:"text-2xl font-mono"},it={class:"bg-black/20 rounded-lg px-3 py-2 backdrop-blur-sm border border-white/20"},ct={class:"text-2xl font-mono"},dt={key:1,class:"flex items-center font-bold text-yellow-200 text-lg"},ut={__name:"CountdownTimer",props:{checkout:{type:Object,required:!0}},emits:["expired"],setup(S,{emit:M}){const n=S,j=M,o=g(0),r=g(!1),c=g(!1);let p=null;const f=a(()=>{var s;return((s=n.checkout)==null?void 0:s.countdown_enabled)||!1}),k=a(()=>{var s;return((s=n.checkout)==null?void 0:s.countdown_icon)||"üî•"}),E=a(()=>{var s;return((s=n.checkout)==null?void 0:s.countdown_duration)||3600}),O=a(()=>{var s;return((s=n.checkout)==null?void 0:s.countdown_bg_color)||"#dc2626"}),x=a(()=>{var s;return((s=n.checkout)==null?void 0:s.countdown_text_color)||"#ffffff"}),y=a(()=>{var s;return((s=n.checkout)==null?void 0:s.countdown_message)||"Oferta por tempo limitado!"}),b=a(()=>{var s;return((s=n.checkout)==null?void 0:s.countdown_expired)||!1}),I=a(()=>{const s=["fixed","top-0","left-0","right-0","z-50","w-full","backdrop-blur-md","border-b","shadow-lg","transform","transition-all","duration-500","ease-out","translate-y-0","opacity-100"];return c.value&&!r.value&&s.push(""),s.join(" ")}),w=a(()=>{const s=["flex","items-center","gap-1","font-mono","font-bold"];return c.value&&!r.value&&s.push("animate-bounce"),s.join(" ")}),d=s=>{const e=Math.floor(s/3600),v=Math.floor(s%3600/60),_=s%60;return{hours:e.toString().padStart(2,"0"),minutes:v.toString().padStart(2,"0"),seconds:_.toString().padStart(2,"0")}},z=()=>{if(!f.value)return;if(console.log(b.value),b.value){console.log("expiradoooo:",b.value),o.value=0,r.value=!0,c.value=!1;return}const e=new Date(n.checkout.updated_at).getTime()+E.value*1e3,v=()=>{const _=new Date().getTime(),T=e-_;T<0?(o.value=0,r.value=!0,c.value=!1,j("expired"),p&&clearInterval(p)):(o.value=Math.floor(T/1e3),r.value=!1,c.value=o.value<=300)};v(),p=setInterval(v,1e3)};return D(()=>{f.value&&z()}),U(()=>{p&&clearInterval(p)}),(s,e)=>(i(),H(N,{to:"body"},[f.value?(i(),u("div",{key:0,class:h(I.value)},[t("div",{class:"absolute inset-0 bg-gradient-to-r opacity-95",style:m({backgroundColor:O.value})},null,4),t("div",P,[t("div",V,[t("div",q,[t("div",A,[t("div",G,[t("span",L,l(k.value),1),t("span",{class:"text-xs font-medium truncate",style:m({color:x.value})},l(y.value),5)])]),t("div",R,[r.value?(i(),u("div",Y,e[5]||(e[5]=[t("span",{class:"mr-1"},"‚ö†Ô∏è",-1),t("span",null,"EXPIROU!",-1)]))):(i(),u("div",{key:0,class:h([w.value,"flex-shrink-0"]),style:m({color:x.value})},[t("div",X,[t("span",F,l(d(o.value).hours),1),e[0]||(e[0]=t("span",{class:"text-xs ml-0.5"},"H",-1))]),e[3]||(e[3]=t("span",{class:"text-white/60 text-xs"},":",-1)),t("div",J,[t("span",K,l(d(o.value).minutes),1),e[1]||(e[1]=t("span",{class:"text-xs ml-0.5"},"M",-1))]),e[4]||(e[4]=t("span",{class:"text-white/60 text-xs"},":",-1)),t("div",Q,[t("span",W,l(d(o.value).seconds),1),e[2]||(e[2]=t("span",{class:"text-xs ml-0.5"},"S",-1))])],6))])]),t("div",Z,[t("div",$,[t("div",tt,[t("div",st,[t("span",et,l(k.value),1),c.value&&!r.value?(i(),u("div",ot)):C("",!0)]),t("span",{class:"text-lg font-semibold",style:m({color:x.value})},l(y.value),5)]),e[12]||(e[12]=t("div",{class:"h-6 w-px bg-white/30"},null,-1)),r.value?(i(),u("div",dt,e[11]||(e[11]=[t("span",{class:"mr-2 animate-bounce"},"‚ö†Ô∏è",-1),t("span",null,"TEMPO ESGOTADO!",-1)]))):(i(),u("div",{key:0,class:h(w.value),style:m({color:x.value})},[t("div",lt,[t("span",at,l(d(o.value).hours),1),e[6]||(e[6]=t("span",{class:"text-sm ml-1 opacity-80 uppercase"},"Horas",-1))]),e[9]||(e[9]=t("span",{class:"text-white/60 text-xl mx-1"},":",-1)),t("div",nt,[t("span",rt,l(d(o.value).minutes),1),e[7]||(e[7]=t("span",{class:"text-sm ml-1 opacity-80 uppercase"},"Min",-1))]),e[10]||(e[10]=t("span",{class:"text-white/60 text-xl mx-1"},":",-1)),t("div",it,[t("span",ct,l(d(o.value).seconds),1),e[8]||(e[8]=t("span",{class:"text-sm ml-1 opacity-80 uppercase"},"Seg",-1))])],6))])])])])],2)):C("",!0)]))}},xt=B(ut,[["__scopeId","data-v-ce82d123"]]);export{xt as default};
