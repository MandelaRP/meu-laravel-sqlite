import{C as P,c as m,o as p,a as o,u as r,m as w,b as a,d as i,f as d,v as C,e as n,i as _,t as u,F as I}from"./app-rxSkm_8n.js";import{_ as k}from"./AppLayout.vue_vue_type_script_setup_true_lang-BwOLDhhL.js";import{_ as x}from"./Button.vue_vue_type_script_setup_true_lang-CZrugS0B.js";import{_ as v}from"./Input.vue_vue_type_script_setup_true_lang-DYiRcBo-.js";import{_ as c}from"./Label.vue_vue_type_script_setup_true_lang-oy-9Lx9Q.js";import{_ as D}from"./Textarea-CuPciTN4.js";import{_ as N,a as S,b as A,c as F,d as g}from"./SelectValue.vue_vue_type_script_setup_true_lang-2pPvREZz.js";import{_ as U,a as E}from"./CardContent.vue_vue_type_script_setup_true_lang-t8QW7drv.js";import{_ as T}from"./CardDescription.vue_vue_type_script_setup_true_lang-C3akIHir.js";import{_ as z,a as B}from"./CardTitle.vue_vue_type_script_setup_true_lang-D-Ey-PXk.js";import{_ as L}from"./ImageUpload-ogP-Jy7q.js";import{l as f}from"./index-DjQHJRhy.js";import{P as q}from"./package-B8fsICZ3.js";import"./utils-CytzSlOG.js";import"./index-CNtfqitb.js";import"./index-XW9fu56b.js";import"./floating-ui.vue-CZZPkfLm.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./x-3FGPxMN9.js";import"./createLucideIcon-C3bDf7p4.js";import"./wallet-xIOSN7AQ.js";import"./credit-card-DPATrQHH.js";import"./shopping-cart-CIHs1TUy.js";import"./users-CTj-7I4Q.js";import"./building-2-Bs7tmiXJ.js";import"./chevron-right-CuoNnNmV.js";import"./useForwardExpose-DMzqEU9f.js";import"./nullish-CHIgUVhi.js";import"./Primitive-BrnKrBYL.js";import"./user-BzOG761P.js";import"./VisuallyHidden-BSu4F0qb.js";import"./Collection-DhgCJFi0.js";import"./useId-twxlRIXh.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./check-DXIJwO3F.js";import"./utils-pWec8FuC.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./useFormControl-BXJ2ZBjh.js";import"./upload-vBmHZAro.js";const G={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 w-full max-w-3xl mx-auto"},j={class:"space-y-2"},M={key:0,class:"text-sm text-destructive"},R={class:"space-y-2"},H={key:0,class:"text-sm text-destructive"},J={class:"space-y-2"},K={key:0,class:"text-sm text-destructive"},O={class:"space-y-2"},Q={class:"relative"},W={key:0,class:"text-sm text-destructive"},X={class:"space-y-2"},Y={key:0,class:"text-sm text-destructive"},Z={class:"flex flex-col sm:flex-row gap-3 pt-4 border-t"},qe={__name:"Create",setup(h){const b=[{title:"Dashboard",href:"/dashboard"},{title:"Produtos",href:"/seller/products"},{title:"Novo Produto",href:"/seller/products/create"}],t=P({name:"",description:"",type:"DIGITAL",price:"",image:null}),y=()=>{const l=t.price?parseFloat(t.price.toString().replace(",",".")):0;if(isNaN(l)||l<0){f.error("Por favor, insira um preço válido");return}t.transform(e=>({...e,price:l,status:!0})).post(route("products.store"),{preserveScroll:!0,onSuccess:()=>{f.success("Produto criado com sucesso!")},onError:e=>{e.message?f.error(e.message):e.price?f.error(e.price[0]||"Erro ao validar preço"):f.error("Erro ao criar produto. Verifique os campos.")}})},V=l=>{if(!l)return"";let e=l.toString().replace(/[^\d,.]/g,"");if(!e)return"";e=e.replace(",",".");const s=e.split(".");return s.length>2&&(e=s[0]+"."+s.slice(1).join("")),s.length===2&&s[1].length>2&&(e=s[0]+"."+s[1].substring(0,2)),e.replace(".",",")},$=l=>{const e=V(l.target.value);t.price=e};return(l,e)=>(p(),m(I,null,[o(r(w),{title:"Criar Produto"}),o(k,{breadcrumbs:b},{default:a(()=>[i("div",G,[o(r(U),{class:"w-full border-border bg-card"},{default:a(()=>[o(r(z),null,{default:a(()=>[o(r(B),{class:"text-2xl font-bold text-card-foreground flex items-center gap-2"},{default:a(()=>[o(r(q),{class:"h-6 w-6"}),e[6]||(e[6]=d(" Novo Produto "))]),_:1}),o(r(T),{class:"text-base mt-1 text-muted-foreground"},{default:a(()=>e[7]||(e[7]=[d(" Preencha os dados do produto abaixo ")])),_:1})]),_:1}),o(r(E),null,{default:a(()=>[i("form",{onSubmit:C(y,["prevent"]),class:"space-y-6"},[i("div",j,[o(r(c),{for:"name"},{default:a(()=>e[8]||(e[8]=[d(" Nome do Produto "),i("span",{class:"text-destructive"},"*",-1)])),_:1}),o(r(v),{id:"name",modelValue:r(t).name,"onUpdate:modelValue":e[0]||(e[0]=s=>r(t).name=s),placeholder:"Digite o nome do produto",class:_({"border-destructive":r(t).errors.name})},null,8,["modelValue","class"]),r(t).errors.name?(p(),m("p",M,u(r(t).errors.name),1)):n("",!0)]),i("div",R,[o(r(c),{for:"description"},{default:a(()=>e[9]||(e[9]=[d("Descrição")])),_:1}),o(r(D),{id:"description",modelValue:r(t).description,"onUpdate:modelValue":e[1]||(e[1]=s=>r(t).description=s),placeholder:"Descreva seu produto ou serviço",rows:"4",class:_({"border-destructive":r(t).errors.description})},null,8,["modelValue","class"]),r(t).errors.description?(p(),m("p",H,u(r(t).errors.description),1)):n("",!0)]),i("div",J,[o(r(c),{for:"type"},{default:a(()=>e[10]||(e[10]=[d(" Tipo "),i("span",{class:"text-destructive"},"*",-1)])),_:1}),o(r(N),{modelValue:r(t).type,"onUpdate:modelValue":e[2]||(e[2]=s=>r(t).type=s),class:_({"border-destructive":r(t).errors.type})},{default:a(()=>[o(r(S),{id:"type"},{default:a(()=>[o(r(A),{placeholder:"Selecione o tipo"})]),_:1}),o(r(F),null,{default:a(()=>[o(r(g),{value:"DIGITAL"},{default:a(()=>e[11]||(e[11]=[d("Digital")])),_:1}),o(r(g),{value:"FISICAL"},{default:a(()=>e[12]||(e[12]=[d("Físico")])),_:1})]),_:1})]),_:1},8,["modelValue","class"]),r(t).errors.type?(p(),m("p",K,u(r(t).errors.type),1)):n("",!0)]),i("div",O,[o(r(c),{for:"price"},{default:a(()=>e[13]||(e[13]=[d(" Preço "),i("span",{class:"text-destructive"},"*",-1)])),_:1}),i("div",Q,[e[14]||(e[14]=i("span",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-sm font-semibold text-foreground"},"R$",-1)),o(r(v),{id:"price",modelValue:r(t).price,"onUpdate:modelValue":e[3]||(e[3]=s=>r(t).price=s),type:"text",placeholder:"0,00",onInput:$,class:_(["pl-12",{"border-destructive":r(t).errors.price}])},null,8,["modelValue","class"])]),r(t).errors.price?(p(),m("p",W,u(Array.isArray(r(t).errors.price)?r(t).errors.price[0]:r(t).errors.price),1)):n("",!0),e[15]||(e[15]=i("p",{class:"text-xs text-muted-foreground"}," Digite o preço usando vírgula ou ponto como separador decimal (ex: 99,90 ou 99.90) ",-1))]),i("div",X,[o(r(c),null,{default:a(()=>e[16]||(e[16]=[d("Imagem do Produto")])),_:1}),o(L,{modelValue:r(t).image,"onUpdate:modelValue":e[4]||(e[4]=s=>r(t).image=s),label:"Imagem",placeholder:"Clique para fazer upload ou arraste uma imagem","max-size":5120},null,8,["modelValue"]),r(t).errors.image?(p(),m("p",Y,u(r(t).errors.image),1)):n("",!0)]),i("div",Z,[o(r(x),{type:"button",variant:"outline",onClick:e[5]||(e[5]=s=>l.$inertia.visit(l.route("products.index"))),class:"w-full sm:w-auto"},{default:a(()=>e[17]||(e[17]=[d(" Cancelar ")])),_:1}),o(r(x),{type:"submit",disabled:r(t).processing,class:"w-full sm:w-auto"},{default:a(()=>[d(u(r(t).processing?"Criando...":"Criar Produto"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1})])]),_:1})],64))}};export{qe as default};
