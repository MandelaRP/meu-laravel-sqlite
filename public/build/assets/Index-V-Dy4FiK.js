import{h as P,i as j,_ as L}from"./AppLayout.vue_vue_type_script_setup_true_lang-BwOLDhhL.js";import{c as u,o as m,a as t,u as s,m as S,b as o,d as a,e as w,f as c,F as p,g as $,h as T,t as n,i as k,W as V}from"./app-rxSkm_8n.js";import{_ as I,a as R}from"./CardContent.vue_vue_type_script_setup_true_lang-t8QW7drv.js";import{_ as A,a as E,b as C,c as f,d as Q,e as _}from"./TableHeader.vue_vue_type_script_setup_true_lang-BlkaBjXq.js";import{_ as D}from"./index-DB509qdv.js";import{_ as U}from"./Pagination-UDo28-0V.js";import{Q as N}from"./qr-code-GahK7m1_.js";import"./utils-CytzSlOG.js";import"./index-CNtfqitb.js";import"./index-XW9fu56b.js";import"./floating-ui.vue-CZZPkfLm.js";import"./Button.vue_vue_type_script_setup_true_lang-CZrugS0B.js";import"./Primitive-BrnKrBYL.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./x-3FGPxMN9.js";import"./createLucideIcon-C3bDf7p4.js";import"./wallet-xIOSN7AQ.js";import"./credit-card-DPATrQHH.js";import"./package-B8fsICZ3.js";import"./shopping-cart-CIHs1TUy.js";import"./users-CTj-7I4Q.js";import"./building-2-Bs7tmiXJ.js";import"./chevron-right-CuoNnNmV.js";import"./useForwardExpose-DMzqEU9f.js";import"./nullish-CHIgUVhi.js";import"./user-BzOG761P.js";import"./chevron-left-C6L9899k.js";import"./ellipsis-BOcdY87u.js";const W={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 max-w-7xl mx-auto w-full"},z={class:"hidden md:block overflow-x-auto"},O={class:"flex items-center gap-2"},q={class:"font-medium text-foreground"},G={class:"text-xs text-muted-foreground"},H={class:"flex items-center gap-2"},J={class:"w-8 h-8 bg-green-500 rounded flex items-center justify-center"},K={class:"font-semibold text-foreground"},M={class:"font-medium text-foreground"},X={class:"text-muted-foreground"},Y={key:0,class:"font-medium text-foreground"},Z={key:1},ee={class:"md:hidden space-y-3 p-4"},te=["onClick"],se={class:"flex items-center justify-between gap-3"},oe={class:"flex items-center gap-2 flex-1 min-w-0"},ae={class:"w-10 h-10 bg-green-500 rounded flex items-center justify-center flex-shrink-0"},re={class:"flex-1 min-w-0"},de={class:"font-semibold text-foreground truncate"},le={key:0,class:"p-8 text-center"},ie={key:1,class:"border-t border-border w-full py-2 bg-card"},Ae={__name:"Index",props:{transactions:{type:Object,default:()=>({data:[],links:[],meta:{}})}},setup(l){const B=[{title:"Dashboard",href:"/dashboard"}],b=d=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(d),x=d=>d?new Date(d).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",g=d=>{if(!d)return{label:"Desconhecido",color:"bg-gray-500/20 text-gray-400 border-gray-500/30"};const e=String(d).toLowerCase();return e==="pago"||e==="paid"||e==="approved"||e==="concluida"||e==="concluída"?{label:"Pago",color:"bg-green-500/20 text-green-400 border-green-500/30"}:e==="pendente"||e==="pending"||e==="waiting_payment"||e==="aguardando"?{label:"Pendente",color:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30"}:e==="cancelado"||e==="cancelled"||e==="expirado"||e==="expired"?{label:e==="expirado"||e==="expired"?"Expirado":"Cancelado",color:"bg-red-500/20 text-red-400 border-red-500/30"}:{label:d||"Desconhecido",color:"bg-gray-500/20 text-gray-400 border-gray-500/30"}},F=d=>{const e=d.split(" ");return e.length>=2?(e[0][0]+e[e.length-1][0]).toUpperCase():d.substring(0,2).toUpperCase()},h=d=>{const e=d.transaction_id||d.fullpix_transaction_id||d.liberpay_sale_id||d.id;V.visit(route("transactions.show",e))};return(d,e)=>(m(),u(p,null,[t(s(S),{title:"Transações"}),t(L,{breadcrumbs:B},{default:o(()=>[a("div",W,[e[6]||(e[6]=a("div",{class:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between w-full"},[a("div",{class:"flex-1"},[a("h2",{class:"text-xl sm:text-2xl font-bold tracking-tight"},"Transações"),a("p",{class:"text-sm sm:text-base text-muted-foreground"},"Últimas movimentações financeiras")])],-1)),t(s(I),{class:"w-full border-border bg-card"},{default:o(()=>[t(s(R),{class:"p-0"},{default:o(()=>{var v,y;return[a("div",z,[t(s(A),null,{default:o(()=>[t(s(E),null,{default:o(()=>[t(s(C),{class:"bg-muted/50 border-border hover:bg-muted/50"},{default:o(()=>[t(s(f),{class:"font-semibold text-muted-foreground"},{default:o(()=>e[0]||(e[0]=[c("Cliente")])),_:1}),t(s(f),{class:"font-semibold text-muted-foreground"},{default:o(()=>e[1]||(e[1]=[c("Forma de Pagamento")])),_:1}),t(s(f),{class:"font-semibold text-muted-foreground"},{default:o(()=>e[2]||(e[2]=[c("Status")])),_:1}),t(s(f),{class:"font-semibold text-muted-foreground"},{default:o(()=>e[3]||(e[3]=[c("Produto")])),_:1}),t(s(f),{class:"font-semibold text-muted-foreground"},{default:o(()=>e[4]||(e[4]=[c("Criado/Pago em")])),_:1})]),_:1})]),_:1}),t(s(Q),null,{default:o(()=>{var i;return[(m(!0),u(p,null,$(((i=l.transactions)==null?void 0:i.data)||[],r=>(m(),T(s(C),{key:`${r.id||r.transaction_id}-${r.created_at||r.date}`,class:"border-border hover:bg-muted/50 transition-colors cursor-pointer",onClick:ne=>h(r)},{default:o(()=>[t(s(_),null,{default:o(()=>[a("div",O,[t(s(P),{class:"h-8 w-8"},{default:o(()=>[t(s(j),null,{default:o(()=>[c(n(F(r.customer_name||r.customer_email||"?")),1)]),_:2},1024)]),_:2},1024),a("div",null,[a("div",q,n(r.customer_name||r.customer_email||"N/A"),1),a("div",G,n(r.customer_email||""),1)])])]),_:2},1024),t(s(_),null,{default:o(()=>[a("div",H,[a("div",J,[t(s(N),{class:"h-4 w-4 text-white"})]),a("div",K,n(b(r.total_amount)),1)])]),_:2},1024),t(s(_),null,{default:o(()=>[t(s(D),{variant:"outline",class:k(g(r.payment_status||r.raw_status).color)},{default:o(()=>[c(n(g(r.payment_status||r.raw_status).label),1)]),_:2},1032,["class"])]),_:2},1024),t(s(_),null,{default:o(()=>[a("div",M,n(r.product||"Depósito"),1)]),_:2},1024),t(s(_),null,{default:o(()=>[a("div",X,[r.paid_at?(m(),u("div",Y," Pago em "+n(x(r.paid_at)),1)):(m(),u("div",Z," Criado em "+n(x(r.created_at||r.date)),1))])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]}),_:1})]),_:1})]),a("div",ee,[(m(!0),u(p,null,$(((v=l.transactions)==null?void 0:v.data)||[],i=>(m(),u("div",{key:`${i.id||i.transaction_id}-${i.created_at||i.date}`,class:"border border-border rounded-lg p-4 bg-card hover:bg-muted/50 transition-colors cursor-pointer",onClick:r=>h(i)},[a("div",se,[a("div",oe,[a("div",ae,[t(s(N),{class:"h-5 w-5 text-white"})]),a("div",re,[a("div",de,n(b(i.total_amount)),1)])]),t(s(D),{variant:"outline",class:k(g(i.payment_status).color)},{default:o(()=>[c(n(g(i.payment_status).label),1)]),_:2},1032,["class"])])],8,te))),128))]),!((y=l.transactions)!=null&&y.data)||l.transactions.data.length===0?(m(),u("div",le,e[5]||(e[5]=[a("p",{class:"text-muted-foreground"},"Nenhuma transação encontrada",-1)]))):w("",!0),l.transactions&&(l.transactions.meta&&l.transactions.meta.total>10&&l.transactions.meta.last_page>1||l.transactions.total>10&&l.transactions.last_page>1)?(m(),u("div",ie,[t(s(U),{pagination:l.transactions},null,8,["pagination"])])):w("",!0)]}),_:1})]),_:1})])]),_:1})],64))}};export{Ae as default};
