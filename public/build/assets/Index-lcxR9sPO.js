import{_ as A}from"./AppLayout.vue_vue_type_script_setup_true_lang-CrF1FF1Y.js";import{k as B,r as I,c as u,o as i,a as s,u as o,m as U,b as a,d as r,e as v,f as n,F as h,g as V,h as w,t as d,j as F,i as L}from"./app-S3kx2b0d.js";import{_ as z,a as Q}from"./CardContent.vue_vue_type_script_setup_true_lang-DPkaWiTn.js";import{_ as M,a as O}from"./CardTitle.vue_vue_type_script_setup_true_lang-Bn8k43WC.js";import{_ as N}from"./Button.vue_vue_type_script_setup_true_lang-Bu1_OuLZ.js";import{_ as q}from"./Input.vue_vue_type_script_setup_true_lang-Zo94wQZG.js";import{_ as G,a as H,b as T,c as f,d as J,e as _}from"./TableHeader.vue_vue_type_script_setup_true_lang-BSn2BtLH.js";import{_ as S}from"./index-Ctvap5pn.js";import{_ as K}from"./Pagination-BjiO8bD-.js";import{D as W}from"./download-DmxqJaYF.js";import{S as X}from"./search-Dyv4eb63.js";import{F as Y}from"./filter-D57Bthkz.js";import{C as j}from"./credit-card-LFa5ma_M.js";import{R as Z}from"./receipt-zrIJx3FG.js";import{Q as ee}from"./qr-code-Bz8uhlJj.js";import"./utils-CytzSlOG.js";import"./index-BszNJtDQ.js";import"./index-BGfks83y.js";import"./floating-ui.vue-Bsqwf4g4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./x-Dj8XHr1q.js";import"./createLucideIcon-B4R1MoSR.js";import"./wallet-W4yJT2z-.js";import"./package-q04n0eFj.js";import"./shopping-cart-SOVwChfQ.js";import"./users-C6A098f4.js";import"./building-2-BRWwAQkA.js";import"./chevron-right-BTpdya_p.js";import"./useForwardExpose-BFkC9Kdc.js";import"./nullish-CHIgUVhi.js";import"./Primitive-odI4fKTA.js";import"./user-Bs-aP_A5.js";import"./chevron-left-CMQd-YO7.js";import"./ellipsis-Duhq1Iuo.js";const te={class:"mt-2 sm:mt-4 flex h-full flex-1 flex-col gap-3 sm:gap-4 p-2 sm:p-4 w-full mx-auto"},se={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},oe={class:"flex gap-3"},re={class:"flex flex-col sm:flex-row gap-3 mt-4"},ae={class:"relative flex-1"},le={class:"hidden md:block overflow-x-auto w-full"},de={class:"flex items-center gap-3"},ie={class:"h-10 w-10 rounded-full bg-green-500 flex items-center justify-center text-white font-semibold"},ne={class:"font-medium text-foreground"},me={class:"text-sm text-muted-foreground"},ce={class:"flex items-center gap-2"},ue={class:"w-8 h-8 bg-green-500 rounded flex items-center justify-center"},fe={class:"font-semibold text-foreground"},_e={key:0,class:"text-xs text-muted-foreground"},pe={class:"font-medium text-foreground"},ge={class:"text-sm text-muted-foreground"},xe={class:"text-muted-foreground"},be={key:0,class:"text-xs mt-1"},ve={class:"md:hidden space-y-3 p-4"},he=["onClick"],we={class:"flex items-center justify-between gap-3"},ye={class:"flex items-center gap-2 flex-1 min-w-0"},Ce={class:"w-10 h-10 bg-green-500 rounded flex items-center justify-center flex-shrink-0"},ke={class:"flex-1 min-w-0"},$e={class:"font-semibold text-foreground truncate"},De={key:0,class:"mt-4"},dt={__name:"Index",props:{transactions:{type:Object,default:()=>({data:[],links:{},meta:{}})}},setup(P){const E=[{title:"Dashboard",href:"/dashboard"},{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Transações",href:"/admin/transactions"}],m=P,y=B(()=>m.transactions.data||[]),p=I(""),C=B(()=>{if(!p.value)return y.value;const l=p.value.toLowerCase();return y.value.filter(e=>{var t,c,D;return((t=e.clientName)==null?void 0:t.toLowerCase().includes(l))||((c=e.clientEmail)==null?void 0:c.toLowerCase().includes(l))||((D=e.transactionId)==null?void 0:D.toLowerCase().includes(l))})}),x=l=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(l),b=l=>new Date(l).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),g=l=>{const e=l==null?void 0:l.toLowerCase();return e==="concluida"||e==="pago"||e==="paid"?{label:"Pago",color:"bg-green-500/20 text-green-400 border-green-500/30"}:e==="pendente"||e==="pending"?{label:"Pendente",color:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30"}:e==="cancelada"||e==="cancelled"?{label:"Cancelada",color:"bg-red-500/20 text-red-400 border-red-500/30"}:{label:l||"Desconhecido",color:"bg-gray-500/20 text-gray-400 border-gray-500/30"}},k=l=>({Pix:ee,Boleto:Z,Cartão:j})[l]||j,$=l=>{const e=l.transaction_id||l.fullpix_transaction_id||l.liberpay_sale_id||l.id;window.location.href=route("admin.transactions.show",e)},R=()=>{console.log("Exportando para CSV...")};return(l,e)=>(i(),u(h,null,[s(o(U),{title:"Transações Admin"}),s(A,{breadcrumbs:E},{default:a(()=>[r("div",te,[e[9]||(e[9]=r("div",{class:"space-y-1"},[r("h2",{class:"text-xl sm:text-2xl font-bold tracking-tight"},"Bem-vindo na aba de Transações, Admin"),r("p",{class:"text-sm sm:text-base text-muted-foreground"}," Nesta sessão você consegue visualizar todas as transações de todos os sellers do seu sistema! ")],-1)),s(o(z),{class:"w-full border-border bg-card"},{default:a(()=>[s(o(M),{class:"pb-4"},{default:a(()=>[r("div",se,[s(o(O),{class:"text-base sm:text-lg"},{default:a(()=>e[1]||(e[1]=[n("Transações")])),_:1}),r("div",oe,[s(o(N),{variant:"outline",onClick:R,class:"border-border hover:bg-accent hover:text-accent-foreground"},{default:a(()=>[s(o(W),{class:"h-4 w-4 mr-2"}),e[2]||(e[2]=n(" Exportar "))]),_:1})])]),r("div",re,[r("div",ae,[s(o(X),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s(o(q),{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=t=>p.value=t),placeholder:"Buscar transação...",class:"pl-10 bg-background border-border text-foreground"},null,8,["modelValue"])]),s(o(N),{variant:"outline",class:"border-border hover:bg-accent hover:text-accent-foreground"},{default:a(()=>[s(o(Y),{class:"h-4 w-4 mr-2"}),e[3]||(e[3]=n(" Filtros "))]),_:1})])]),_:1}),s(o(Q),{class:"p-0"},{default:a(()=>[r("div",le,[s(o(G),{class:"w-full min-w-full"},{default:a(()=>[s(o(H),null,{default:a(()=>[s(o(T),{class:"bg-muted/50 border-border hover:bg-muted/50"},{default:a(()=>[s(o(f),{class:"font-semibold text-muted-foreground"},{default:a(()=>e[4]||(e[4]=[n("Cliente")])),_:1}),s(o(f),{class:"font-semibold text-muted-foreground"},{default:a(()=>e[5]||(e[5]=[n("Forma de Pagamento")])),_:1}),s(o(f),{class:"font-semibold text-muted-foreground"},{default:a(()=>e[6]||(e[6]=[n("Status")])),_:1}),s(o(f),{class:"font-semibold text-muted-foreground"},{default:a(()=>e[7]||(e[7]=[n("Produto")])),_:1}),s(o(f),{class:"font-semibold text-muted-foreground"},{default:a(()=>e[8]||(e[8]=[n("Criado/Pago em")])),_:1})]),_:1})]),_:1}),s(o(J),null,{default:a(()=>[(i(!0),u(h,null,V(C.value,t=>(i(),w(o(T),{key:t.id,class:"border-border hover:bg-muted/50 transition-colors cursor-pointer",onClick:c=>$(t)},{default:a(()=>[s(o(_),null,{default:a(()=>{var c;return[r("div",de,[r("div",ie,d(((c=t.clientName)==null?void 0:c.charAt(0).toUpperCase())||"U"),1),r("div",null,[r("div",ne,d(t.clientName),1),r("div",me,d(t.clientEmail),1)])])]}),_:2},1024),s(o(_),null,{default:a(()=>[r("div",ce,[r("div",ue,[(i(),w(F(k(t.method)),{class:"h-4 w-4 text-white"}))]),r("div",null,[r("div",fe,d(x(t.value)),1),t.expires_at?(i(),u("div",_e," Vence em "+d(b(t.expires_at)),1)):v("",!0)])])]),_:2},1024),s(o(_),null,{default:a(()=>[s(o(S),{variant:"outline",class:L(g(t.status).color)},{default:a(()=>[n(d(g(t.status).label),1)]),_:2},1032,["class"])]),_:2},1024),s(o(_),null,{default:a(()=>[r("div",null,[r("div",pe,d(t.product||"Depósito"),1),r("div",ge,d(x(t.value)),1)])]),_:2},1024),s(o(_),null,{default:a(()=>[r("div",xe,[r("div",null,d(b(t.created_at||t.date)),1),t.paid_at?(i(),u("div",be," Pago em "+d(b(t.paid_at)),1)):v("",!0)])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),r("div",ve,[(i(!0),u(h,null,V(C.value,t=>(i(),u("div",{key:t.id,class:"border border-border rounded-lg p-4 bg-card hover:bg-muted/50 transition-colors cursor-pointer",onClick:c=>$(t)},[r("div",we,[r("div",ye,[r("div",Ce,[(i(),w(F(k(t.method)),{class:"h-5 w-5 text-white"}))]),r("div",ke,[r("div",$e,d(x(t.value)),1)])]),s(o(S),{variant:"outline",class:L(g(t.status).color)},{default:a(()=>[n(d(g(t.status).label),1)]),_:2},1032,["class"])])],8,he))),128))])]),_:1})]),_:1}),m.transactions&&(m.transactions.meta&&m.transactions.meta.total>10&&m.transactions.meta.last_page>1||m.transactions.total>10&&m.transactions.last_page>1)?(i(),u("div",De,[s(o(K),{pagination:m.transactions},null,8,["pagination"])])):v("",!0)])]),_:1})],64))}};export{dt as default};
