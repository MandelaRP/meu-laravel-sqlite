import{k as n,c as k,e as $,o as m,d as f,t as x,a as v,b as P,u as d,F as S,g as j,h as A,f as E,i as M,W as I}from"./app-S3kx2b0d.js";import{_}from"./Button.vue_vue_type_script_setup_true_lang-Bu1_OuLZ.js";import{C as R}from"./chevron-left-CMQd-YO7.js";import{E as F}from"./ellipsis-Duhq1Iuo.js";import{C as O}from"./chevron-right-BTpdya_p.js";const T={key:0,class:"flex flex-col sm:flex-row items-center justify-between gap-4 px-4 py-3 w-full"},U={class:"text-sm text-muted-foreground"},W={class:"flex items-center gap-2"},q={class:"flex items-center gap-1"},D={key:1,class:"px-2 text-muted-foreground"},X={__name:"Pagination",props:{pagination:{type:Object,required:!0,default:()=>({data:[],links:[],meta:{current_page:1,last_page:1,per_page:10,total:0,from:0,to:0}})}},setup(i){const l=i,u=n(()=>l.pagination&&l.pagination.meta?l.pagination.meta:l.pagination||{}),h=n(()=>{var t;const e=(t=u.value)==null?void 0:t.current_page;return e?parseInt(e):1}),b=n(()=>{var a;const e=(a=u.value)==null?void 0:a.last_page;if(e)return parseInt(e);const t=w.value,r=L.value;return t>0&&r>0?Math.max(1,Math.ceil(t/r)):1}),w=n(()=>{var t;const e=(t=u.value)==null?void 0:t.total;return e?parseInt(e):0}),L=n(()=>{var t;const e=(t=u.value)==null?void 0:t.per_page;return e?parseInt(e):10}),N=n(()=>{var t;const e=(t=u.value)==null?void 0:t.from;return e?parseInt(e):0}),z=n(()=>{var t;const e=(t=u.value)==null?void 0:t.to;return e?parseInt(e):0});n(()=>l.pagination.links&&Array.isArray(l.pagination.links)?l.pagination.links.filter(e=>e.url!==null):[]);const y=e=>{if(e)try{const t=new URL(e,window.location.origin),a=new URLSearchParams(t.search).get("page");I.get(window.location.pathname,{page:a||1},{preserveState:!0,preserveScroll:!1})}catch{I.visit(e,{preserveState:!0,preserveScroll:!1})}},B=e=>{if(!e)return null;const t=e.match(/[?&]page=(\d+)/);return t?parseInt(t[1]):null},V=n(()=>{const e=[],t=h.value,r=b.value;if(r<=7)for(let a=1;a<=r;a++)e.push(a);else if(e.push(1),t<=4){for(let a=2;a<=5;a++)e.push(a);e.push("..."),e.push(r)}else if(t>=r-3){e.push("...");for(let a=r-4;a<=r;a++)e.push(a)}else{e.push("...");for(let a=t-1;a<=t+1;a++)e.push(a);e.push("..."),e.push(r)}return e});return(e,t)=>w.value>10&&b.value>1?(m(),k("div",T,[f("div",U," Mostrando "+x(N.value)+" até "+x(z.value)+" de "+x(w.value)+" resultados ",1),f("div",W,[v(d(_),{variant:"outline",size:"sm",disabled:h.value===1,onClick:t[0]||(t[0]=r=>{var a,c,s,o;y(((c=(a=i.pagination.links)==null?void 0:a.find(p=>{const g=String(p.label||"").toLowerCase();return g.includes("previous")||g.includes("anterior")||g==="«"}))==null?void 0:c.url)||((o=(s=i.pagination.links)==null?void 0:s[0])==null?void 0:o.url))}),class:"border-border hover:bg-accent hover:text-accent-foreground"},{default:P(()=>[v(d(R),{class:"h-4 w-4"}),t[2]||(t[2]=f("span",{class:"hidden sm:inline"},"Anterior",-1))]),_:1},8,["disabled"]),f("div",q,[(m(!0),k(S,null,j(V.value,(r,a)=>(m(),k(S,{key:a},[r!=="..."?(m(),A(d(_),{key:0,variant:"outline",size:"sm",class:M(["border-border hover:bg-accent hover:text-accent-foreground min-w-[2.5rem]",r===h.value?"bg-primary text-primary-foreground border-primary":""]),onClick:c=>{var s,o;return y((o=(s=i.pagination.links)==null?void 0:s.find(p=>B(p.url)===r))==null?void 0:o.url)}},{default:P(()=>[E(x(r),1)]),_:2},1032,["class","onClick"])):(m(),k("span",D,[v(d(F),{class:"h-4 w-4"})]))],64))),128))]),v(d(_),{variant:"outline",size:"sm",disabled:h.value===b.value||b.value===0,onClick:t[1]||(t[1]=r=>{var a,c,s,o,p;y(((c=(a=i.pagination.links)==null?void 0:a.find(g=>{const C=String(g.label||"").toLowerCase();return C.includes("next")||C.includes("próximo")||C==="»"}))==null?void 0:c.url)||((p=(o=i.pagination.links)==null?void 0:o[((s=i.pagination.links)==null?void 0:s.length)-1])==null?void 0:p.url))}),class:"border-border hover:bg-accent hover:text-accent-foreground"},{default:P(()=>[t[3]||(t[3]=f("span",{class:"hidden sm:inline"},"Próximo",-1)),v(d(O),{class:"h-4 w-4"})]),_:1},8,["disabled"])])])):$("",!0)}};export{X as _};
