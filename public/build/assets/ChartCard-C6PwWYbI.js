import{a as S,_ as B}from"./CardContent.vue_vue_type_script_setup_true_lang-t8QW7drv.js";import{_ as $,a as T}from"./CardTitle.vue_vue_type_script_setup_true_lang-D-Ey-PXk.js";import{m as C}from"./vue3-apexcharts-DmIQC77O.js";import{r as d,k as m,l as F,p as x,q as M,h as v,o as f,b as n,a as p,u as s,d as h,f as N,t as V,c as z}from"./app-rxSkm_8n.js";import"./utils-CytzSlOG.js";const E={key:1,class:"flex items-center justify-center h-full text-muted-foreground"},K={__name:"ChartCard",props:{title:{type:String,required:!0},chartData:{type:Array,default:()=>[]},dataKey:{type:String,default:"value"}},setup(i){const o=i,l=d(!1),c=d(!1),u=d(null),g=m(()=>{if(o.chartData&&o.chartData.length>0)return o.chartData.map(a=>({name:a.date,value:a[o.dataKey]||0}));const e=[],t=new Date;for(let a=6;a>=0;a--){const r=new Date(t);r.setDate(r.getDate()-a);const _=String(r.getDate()).padStart(2,"0"),D=String(r.getMonth()+1).padStart(2,"0");e.push({name:`${_}/${D}`,value:0})}return e}),y=()=>{l.value=document.documentElement.classList.contains("dark")},b=new MutationObserver(y),k=m(()=>[{name:"Valor",data:g.value.map(e=>e.value)}]),w=m(()=>{const e=l.value;return{chart:{type:"area",height:"auto",zoom:{enabled:!1},toolbar:{show:!1},background:"transparent",animations:{enabled:!0,easing:"easeinout",speed:500,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}},colors:["#22c55e"],dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2,colors:["#22c55e"]},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:e?.3:.2,opacityTo:e?.1:.05,stops:[0,90,100],colorStops:[[{offset:0,color:"#22c55e",opacity:e?.3:.2},{offset:100,color:"#16a34a",opacity:0}]]}},grid:{show:!1,padding:{top:10,right:10,bottom:30,left:10}},xaxis:{categories:g.value.map(t=>t.name),labels:{show:!0,style:{colors:e?"#94a3b8":"#64748b",fontSize:"11px",fontFamily:"inherit"},offsetY:0},axisBorder:{show:!0,color:e?"#334155":"#e2e8f0",height:1,offsetY:0,offsetX:0},axisTicks:{show:!1}},yaxis:{min:0,labels:{show:!1},axisBorder:{show:!1},axisTicks:{show:!1}},legend:{show:!1},tooltip:{theme:e?"dark":"light",style:{fontSize:"12px"},y:{formatter:function(t){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}}},responsive:[{breakpoint:1024,options:{chart:{height:250}}},{breakpoint:640,options:{chart:{height:200}}}]}});return F(async()=>{y(),b.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),await x(),await x(),u.value?setTimeout(()=>{c.value=!0},100):setTimeout(()=>{u.value&&(c.value=!0)},300)}),M(()=>{b.disconnect()}),(e,t)=>(f(),v(s(B),{class:"w-full border-border bg-card"},{default:n(()=>[p(s($),{class:"pb-3 sm:pb-4"},{default:n(()=>[h("div",null,[p(s(T),{class:"text-base sm:text-lg"},{default:n(()=>[N(V(i.title),1)]),_:1}),t[0]||(t[0]=h("p",{class:"text-xs text-muted-foreground mt-1"},"Últimos 7 dias",-1))])]),_:1}),p(s(S),{class:"px-3 sm:px-6"},{default:n(()=>[h("div",{ref_key:"chartContainer",ref:u,class:"h-[200px] sm:h-[250px] lg:h-[350px] w-full"},[c.value?(f(),v(s(C),{key:`chart-${l.value}-${i.title}`,type:"area",options:w.value,series:k.value},null,8,["options","series"])):(f(),z("div",E," Carregando gráfico... "))],512)]),_:1})]),_:1}))}};export{K as default};
