import{k as c,n as ee,r as D,c as p,o as u,a as s,u as t,m as te,b as a,d as o,h,e as x,f as n,t as r,F as E,g as se,i as N,v as oe,C as M}from"./app-rxSkm_8n.js";import{_ as ae}from"./AppLayout.vue_vue_type_script_setup_true_lang-BwOLDhhL.js";import{_ as w,a as y}from"./CardContent.vue_vue_type_script_setup_true_lang-t8QW7drv.js";import{_ as le,a as re}from"./CardTitle.vue_vue_type_script_setup_true_lang-D-Ey-PXk.js";import{_ as g}from"./Button.vue_vue_type_script_setup_true_lang-CZrugS0B.js";import{_ as de}from"./Input.vue_vue_type_script_setup_true_lang-DYiRcBo-.js";import{_ as ne,a as ie,b as O,c as _,d as ue,e as b}from"./TableHeader.vue_vue_type_script_setup_true_lang-BlkaBjXq.js";import{_ as R}from"./index-DB509qdv.js";import{_ as A,a as j}from"./index-CXSkLahS.js";import{_ as F}from"./AlertTitle.vue_vue_type_script_setup_true_lang-CUGSAoRJ.js";import{_ as me,a as fe,b as ce,c as pe,d as xe}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DL60ihD0.js";import{_ as ge}from"./DialogFooter.vue_vue_type_script_setup_true_lang-zwGg7kAD.js";import{_ as _e}from"./Pagination-UDo28-0V.js";import{s as X}from"./index-BctFJj0Y.js";import{C as be}from"./circle-check-big-CYSTrOyz.js";import{C as H}from"./circle-alert-B6SM_-WU.js";import{D as ve}from"./dollar-sign-Dx2OW2cR.js";import{C as he}from"./clock-CyEfkKFy.js";import{X as B}from"./x-3FGPxMN9.js";import{W as we}from"./wallet-xIOSN7AQ.js";import{S as ye}from"./search-YOeA7xce.js";import{F as Ce}from"./filter-Bo24e_UH.js";import{C as K}from"./check-DXIJwO3F.js";import"./utils-CytzSlOG.js";import"./index-CNtfqitb.js";import"./index-XW9fu56b.js";import"./floating-ui.vue-CZZPkfLm.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./createLucideIcon-C3bDf7p4.js";import"./credit-card-DPATrQHH.js";import"./package-B8fsICZ3.js";import"./shopping-cart-CIHs1TUy.js";import"./users-CTj-7I4Q.js";import"./building-2-Bs7tmiXJ.js";import"./chevron-right-CuoNnNmV.js";import"./useForwardExpose-DMzqEU9f.js";import"./nullish-CHIgUVhi.js";import"./Primitive-BrnKrBYL.js";import"./user-BzOG761P.js";import"./chevron-left-C6L9899k.js";import"./ellipsis-BOcdY87u.js";const ke={class:"mt-2 sm:mt-4 flex h-full flex-1 flex-col gap-3 sm:gap-4 p-2 sm:p-4 max-w-7xl w-full mx-auto"},qe={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4"},$e={class:"flex items-center justify-between"},Se={class:"text-xl sm:text-2xl font-bold text-foreground"},De={class:"text-xs sm:text-sm text-muted-foreground mt-1"},Ae={class:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-lg bg-gray-500"},je={class:"flex items-center justify-between"},Fe={class:"text-xl sm:text-2xl font-bold text-foreground"},Be={class:"text-xs sm:text-sm text-muted-foreground mt-1"},Pe={class:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-lg bg-gray-500"},Te={class:"flex items-center justify-between"},Ve={class:"text-xl sm:text-2xl font-bold text-foreground"},Le={class:"text-xs sm:text-sm text-muted-foreground mt-1"},Ue={class:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-lg bg-gray-500"},ze={class:"flex items-center justify-between"},Ie={class:"text-xl sm:text-2xl font-bold text-foreground"},We={class:"text-xs sm:text-sm text-muted-foreground mt-1"},Ee={class:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-lg bg-gray-500"},Ne={class:"flex flex-col sm:flex-row gap-3 mt-4"},Me={class:"relative flex-1"},Oe={class:"overflow-x-auto"},Re={class:"font-medium text-foreground"},Xe={class:"text-xs text-muted-foreground"},He={class:"text-foreground"},Ke={class:"text-xs text-muted-foreground"},Ge={key:0,class:"flex items-center gap-2"},Je={key:1,class:"text-xs text-muted-foreground"},Qe={key:3,class:"border-t border-border w-full py-2 bg-card mt-4"},Ye={key:1,class:"space-y-6 mt-4"},Ze={class:"grid grid-cols-2 gap-6"},et={class:"text-foreground"},tt={class:"text-foreground"},st={class:"text-foreground"},ot={class:"text-foreground"},at={class:"text-foreground font-semibold text-lg"},lt={class:"col-span-2"},rt={class:"text-foreground"},dt={key:0,class:"flex gap-2"},Gt={__name:"Index",props:{withdrawals:{type:Object,default:()=>({data:[],links:[],meta:{}})},summaryStats:{type:Object,default:()=>({totalAprovados:0,quantidadeAprovados:0,totalPendentes:0,quantidadePendentes:0,totalCancelados:0,quantidadeCancelados:0,quantidadeUsuarios:0})},saqueAutomatico:{type:Boolean,default:!1}},setup(G){const J=[{title:"Dashboard",href:"/dashboard"},{title:"Admin Dashboard",href:"/admin/dashboard"},{title:"Saques",href:"/admin/withdrawals"}],m=G,P=c(()=>m.withdrawals.data||[]),Q=c(()=>m.saqueAutomatico||!1),$=ee(),C=D(""),i=D(null),S=D(!1),T=c(()=>{var d;return(d=$.props.flash)==null?void 0:d.success}),V=c(()=>{var d;return(d=$.props.flash)==null?void 0:d.error}),L=c(()=>{var d;return(d=$.props.flash)==null?void 0:d.cancelled}),Y=c(()=>{if(!C.value)return P.value;const d=C.value.toLowerCase();return P.value.filter(e=>{var l;return(l=e.email)==null?void 0:l.toLowerCase().includes(d)})}),f=c(()=>m.summaryStats),v=d=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(d),U=d=>new Date(d).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),k=d=>{const e=String(d).toLowerCase(),l={aprovado:{label:"Finalizado",color:"bg-green-500/20 text-green-400 border-green-500/30"},pendente:{label:"Pendente",color:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30"},processando:{label:"Processando",color:"bg-blue-500/20 text-blue-400 border-blue-500/30"},cancelado:{label:"Cancelado",color:"bg-red-500/20 text-red-400 border-red-500/30"}};return e==="aprovado"||e==="done"||e==="done_manual"||e==="finalizado"||e==="paid"||e==="approved"?l.aprovado:e==="processando"||e==="processing"?l.processando:e==="cancelado"||e==="cancelled"||e==="failed"||e==="refused"?l.cancelado:l.pendente},z=d=>{M({}).post(X("admin.withdrawals.approve",d.id),{preserveScroll:!0})},I=d=>{if(!confirm("Tem certeza que deseja cancelar este saque?"))return;M({}).post(X("admin.withdrawals.cancel",d.id),{preserveScroll:!0})},Z=d=>{i.value=d,S.value=!0},q=()=>{S.value=!1,i.value=null};return(d,e)=>(u(),p(E,null,[s(t(te),{title:"Saques Admin"}),s(ae,{breadcrumbs:J},{default:a(()=>[o("div",ke,[T.value?(u(),h(t(A),{key:0,class:"bg-green-500/10 border-green-500/50 text-green-400"},{default:a(()=>[s(t(be),{class:"h-4 w-4"}),s(t(F),{class:"font-semibold"},{default:a(()=>e[4]||(e[4]=[n("Sucesso!")])),_:1}),s(t(j),null,{default:a(()=>[n(r(T.value),1)]),_:1})]),_:1})):x("",!0),L.value?(u(),h(t(A),{key:1,variant:"destructive",class:"bg-red-500/10 border-red-500/50 text-red-400"},{default:a(()=>[s(t(H),{class:"h-4 w-4"}),s(t(F),{class:"font-semibold"},{default:a(()=>e[5]||(e[5]=[n("Cancelado!")])),_:1}),s(t(j),null,{default:a(()=>[n(r(L.value),1)]),_:1})]),_:1})):x("",!0),V.value?(u(),h(t(A),{key:2,variant:"destructive",class:"bg-red-500/10 border-red-500/50 text-red-400"},{default:a(()=>[s(t(H),{class:"h-4 w-4"}),s(t(F),{class:"font-semibold"},{default:a(()=>e[6]||(e[6]=[n("Erro!")])),_:1}),s(t(j),null,{default:a(()=>[n(r(V.value),1)]),_:1})]),_:1})):x("",!0),e[30]||(e[30]=o("div",{class:"space-y-1"},[o("h2",{class:"text-xl sm:text-2xl font-bold tracking-tight"},"Saques"),o("p",{class:"text-sm sm:text-base text-muted-foreground"}," Acompanhe e gerencie todos os saques solicitados pelos vendedores da LuckPay. ")],-1)),o("div",qe,[s(t(w),{class:"border-border bg-card"},{default:a(()=>[s(t(y),{class:"p-4 sm:p-6"},{default:a(()=>[o("div",$e,[o("div",null,[e[7]||(e[7]=o("p",{class:"text-xs sm:text-sm text-muted-foreground mb-1"},"Saques Totais Aprovados",-1)),o("p",Se,r(v(f.value.totalAprovados)),1),o("p",De,r(f.value.quantidadeAprovados)+" saques aprovados",1)]),o("div",Ae,[s(t(ve),{class:"h-5 w-5 sm:h-6 sm:w-6 text-white"})])])]),_:1})]),_:1}),s(t(w),{class:"border-border bg-card"},{default:a(()=>[s(t(y),{class:"p-4 sm:p-6"},{default:a(()=>[o("div",je,[o("div",null,[e[8]||(e[8]=o("p",{class:"text-xs sm:text-sm text-muted-foreground mb-1"},"Saques Totais Pendentes",-1)),o("p",Fe,r(v(f.value.totalPendentes)),1),o("p",Be,r(f.value.quantidadePendentes)+" saques pendentes",1)]),o("div",Pe,[s(t(he),{class:"h-5 w-5 sm:h-6 sm:w-6 text-white"})])])]),_:1})]),_:1}),s(t(w),{class:"border-border bg-card"},{default:a(()=>[s(t(y),{class:"p-4 sm:p-6"},{default:a(()=>[o("div",Te,[o("div",null,[e[9]||(e[9]=o("p",{class:"text-xs sm:text-sm text-muted-foreground mb-1"},"Saques Totais Cancelados",-1)),o("p",Ve,r(v(f.value.totalCancelados)),1),o("p",Le,r(f.value.quantidadeCancelados)+" saques cancelados",1)]),o("div",Ue,[s(t(B),{class:"h-5 w-5 sm:h-6 sm:w-6 text-white"})])])]),_:1})]),_:1}),s(t(w),{class:"border-border bg-card"},{default:a(()=>[s(t(y),{class:"p-4 sm:p-6"},{default:a(()=>[o("div",ze,[o("div",null,[e[10]||(e[10]=o("p",{class:"text-xs sm:text-sm text-muted-foreground mb-1"},"Usuários com Saque",-1)),o("p",Ie,r(f.value.quantidadeUsuarios||0),1),o("p",We,r(f.value.quantidadeUsuarios===1?"usuário":"usuários")+" que solicitaram saque",1)]),o("div",Ee,[s(t(we),{class:"h-5 w-5 sm:h-6 sm:w-6 text-white"})])])]),_:1})]),_:1})]),s(t(w),{class:"w-full border-border bg-card"},{default:a(()=>[s(t(le),{class:"pb-4"},{default:a(()=>[s(t(re),{class:"text-base sm:text-lg"},{default:a(()=>e[11]||(e[11]=[n("Saques")])),_:1}),o("div",Ne,[o("div",Me,[s(t(ye),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s(t(de),{modelValue:C.value,"onUpdate:modelValue":e[0]||(e[0]=l=>C.value=l),placeholder:"Buscar por e-mail...",class:"pl-10 bg-background border-border text-foreground"},null,8,["modelValue"])]),s(t(g),{variant:"outline",class:"border-border hover:bg-accent hover:text-accent-foreground"},{default:a(()=>[s(t(Ce),{class:"h-4 w-4 mr-2"}),e[12]||(e[12]=n(" Filtros "))]),_:1})])]),_:1}),s(t(y),{class:"p-0"},{default:a(()=>[o("div",Oe,[s(t(ne),null,{default:a(()=>[s(t(ie),null,{default:a(()=>[s(t(O),{class:"bg-muted/50 border-border hover:bg-muted/50"},{default:a(()=>[s(t(_),{class:"font-semibold text-muted-foreground"},{default:a(()=>e[13]||(e[13]=[n("E-mail do Usuário")])),_:1}),s(t(_),{class:"font-semibold text-muted-foreground"},{default:a(()=>e[14]||(e[14]=[n("Chave PIX")])),_:1}),s(t(_),{class:"font-semibold text-muted-foreground"},{default:a(()=>e[15]||(e[15]=[n("Valor")])),_:1}),s(t(_),{class:"font-semibold text-muted-foreground"},{default:a(()=>e[16]||(e[16]=[n("Data/Hora")])),_:1}),s(t(_),{class:"font-semibold text-muted-foreground"},{default:a(()=>e[17]||(e[17]=[n("Status")])),_:1}),s(t(_),{class:"font-semibold text-muted-foreground"},{default:a(()=>e[18]||(e[18]=[n("Ações")])),_:1})]),_:1})]),_:1}),s(t(ue),null,{default:a(()=>[(u(!0),p(E,null,se(Y.value,l=>(u(),h(t(O),{key:l.id,class:"border-border hover:bg-muted/50 transition-colors cursor-pointer",onClick:W=>Z(l)},{default:a(()=>[s(t(b),null,{default:a(()=>[o("div",null,[o("div",Re,r(l.email),1),o("div",Xe,"ID: "+r(l.id),1)])]),_:2},1024),s(t(b),null,{default:a(()=>[o("div",null,[o("div",He,r(l.pixKey),1),o("div",Ke,r(l.pixType),1)])]),_:2},1024),s(t(b),{class:"font-semibold text-foreground"},{default:a(()=>[n(r(v(l.amount)),1)]),_:2},1024),s(t(b),{class:"text-muted-foreground"},{default:a(()=>[n(r(U(l.date)),1)]),_:2},1024),s(t(b),null,{default:a(()=>[s(t(R),{variant:"outline",class:N(k(l.status).color)},{default:a(()=>[n(r(k(l.status).label),1)]),_:2},1032,["class"])]),_:2},1024),s(t(b),{onClick:e[1]||(e[1]=oe(()=>{},["stop"]))},{default:a(()=>[l.status==="pendente"||l.status==="pending"?(u(),p("div",Ge,[s(t(g),{variant:"ghost",size:"sm",class:"h-8 w-8 p-0 hover:bg-green-500/10 hover:text-green-400",onClick:W=>z(l),title:"Finalizar saque"},{default:a(()=>[s(t(K),{class:"h-4 w-4"})]),_:2},1032,["onClick"]),s(t(g),{variant:"ghost",size:"sm",class:"h-8 w-8 p-0 hover:bg-red-500/10 hover:text-red-400",onClick:W=>I(l),title:"Cancelar saque"},{default:a(()=>[s(t(B),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])):(u(),p("span",Je,"-"))]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})])]),_:1})]),_:1}),m.withdrawals&&(m.withdrawals.meta&&m.withdrawals.meta.total>10&&m.withdrawals.meta.last_page>1||m.withdrawals.total>10&&m.withdrawals.last_page>1)?(u(),p("div",Qe,[s(t(_e),{pagination:m.withdrawals},null,8,["pagination"])])):x("",!0),s(t(me),{open:S.value,"onUpdate:open":q},{default:a(()=>[s(t(fe),{class:"sm:max-w-2xl bg-card border-border"},{default:a(()=>[i.value?(u(),h(t(ce),{key:0},{default:a(()=>[s(t(pe),{class:"text-xl"},{default:a(()=>e[19]||(e[19]=[n("Detalhes do Saque")])),_:1}),s(t(xe),{class:"text-base"},{default:a(()=>[n(" ID: "+r(i.value.id),1)]),_:1})]),_:1})):x("",!0),i.value?(u(),p("div",Ye,[o("div",Ze,[o("div",null,[e[20]||(e[20]=o("h4",{class:"text-sm font-semibold text-muted-foreground mb-2"},"E-mail do Usuário",-1)),o("p",et,r(i.value.email),1)]),o("div",null,[e[21]||(e[21]=o("h4",{class:"text-sm font-semibold text-muted-foreground mb-2"},"ID do Saque",-1)),o("p",tt,r(i.value.id),1)]),o("div",null,[e[22]||(e[22]=o("h4",{class:"text-sm font-semibold text-muted-foreground mb-2"},"Chave PIX",-1)),o("p",st,r(i.value.pixKey),1)]),o("div",null,[e[23]||(e[23]=o("h4",{class:"text-sm font-semibold text-muted-foreground mb-2"},"Tipo",-1)),o("p",ot,r(i.value.pixType),1)]),o("div",null,[e[24]||(e[24]=o("h4",{class:"text-sm font-semibold text-muted-foreground mb-2"},"Valor Solicitado",-1)),o("p",at,r(v(i.value.amount)),1)]),o("div",null,[e[25]||(e[25]=o("h4",{class:"text-sm font-semibold text-muted-foreground mb-2"},"Status",-1)),s(t(R),{variant:"outline",class:N(k(i.value.status).color)},{default:a(()=>[n(r(k(i.value.status).label),1)]),_:1},8,["class"])]),o("div",lt,[e[26]||(e[26]=o("h4",{class:"text-sm font-semibold text-muted-foreground mb-2"},"Data/Hora da Solicitação",-1)),o("p",rt,r(U(i.value.date)),1)])])])):x("",!0),s(t(ge),null,{default:a(()=>[!Q.value&&i.value&&i.value.status==="pendente"?(u(),p("div",dt,[s(t(g),{variant:"outline",onClick:e[2]||(e[2]=l=>{z(i.value),q()}),class:"border-green-500/30 text-green-400 hover:bg-green-500/10"},{default:a(()=>[s(t(K),{class:"h-4 w-4 mr-2"}),e[27]||(e[27]=n(" Aprovar "))]),_:1}),s(t(g),{variant:"outline",onClick:e[3]||(e[3]=l=>{I(i.value),q()}),class:"border-red-500/30 text-red-400 hover:bg-red-500/10"},{default:a(()=>[s(t(B),{class:"h-4 w-4 mr-2"}),e[28]||(e[28]=n(" Cancelar "))]),_:1})])):x("",!0),s(t(g),{variant:"outline",onClick:q,class:"border-border hover:bg-accent hover:text-accent-foreground"},{default:a(()=>e[29]||(e[29]=[n(" Fechar ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])])]),_:1})],64))}};export{Gt as default};
