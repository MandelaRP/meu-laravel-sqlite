import{r as $,k as q,c as d,o as n,a as s,u as e,m as oe,b as l,d as r,e as V,f as i,W as x,aa as re,t as u,F as L,g as O,h as g,i as I,j,C as ie}from"./app-S3kx2b0d.js";import{I as K,d as ne,e as ue,f as de,g as z,_ as me}from"./AppLayout.vue_vue_type_script_setup_true_lang-CrF1FF1Y.js";import{_ as R,a as W}from"./CardContent.vue_vue_type_script_setup_true_lang-DPkaWiTn.js";import{_ as fe}from"./CardDescription.vue_vue_type_script_setup_true_lang-knWyrEK6.js";import{_ as ce,a as ve}from"./CardTitle.vue_vue_type_script_setup_true_lang-Bn8k43WC.js";import{_ as pe,a as _e,b as X,c as C,d as xe,e as h}from"./TableHeader.vue_vue_type_script_setup_true_lang-BSn2BtLH.js";import{_ as D}from"./index-Ctvap5pn.js";import{_ as m}from"./Button.vue_vue_type_script_setup_true_lang-Bu1_OuLZ.js";import{_ as ge}from"./Input.vue_vue_type_script_setup_true_lang-Zo94wQZG.js";import{_ as H,a as J,b as M,c as Q,d as b}from"./SelectValue.vue_vue_type_script_setup_true_lang-TPDm6Qj2.js";import{_ as be,a as we,b as ye,c as ke,d as $e}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CMVN-k-g.js";import{_ as Ce}from"./DialogFooter.vue_vue_type_script_setup_true_lang-Y11NQ4Uk.js";import{l as P}from"./index-C0K9plCn.js";import{_ as he}from"./Pagination-BjiO8bD-.js";import{P as Y}from"./package-q04n0eFj.js";import{P as Z}from"./plus-D_WhIUaA.js";import{S as Pe}from"./search-Dyv4eb63.js";import{F as Se}from"./filter-D57Bthkz.js";import{E as Te}from"./ellipsis-Duhq1Iuo.js";import{S as ee}from"./square-pen-BmZ5A-jv.js";import{T as te}from"./trash-2-Cf4K9EX2.js";import{C as Ee}from"./circle-check-big-CE4p1vAl.js";import{C as Ie}from"./circle-x-Bn-Ifq4X.js";import"./utils-CytzSlOG.js";import"./index-BszNJtDQ.js";import"./index-BGfks83y.js";import"./floating-ui.vue-Bsqwf4g4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./x-Dj8XHr1q.js";import"./createLucideIcon-B4R1MoSR.js";import"./wallet-W4yJT2z-.js";import"./credit-card-LFa5ma_M.js";import"./shopping-cart-SOVwChfQ.js";import"./users-C6A098f4.js";import"./building-2-BRWwAQkA.js";import"./chevron-right-BTpdya_p.js";import"./useForwardExpose-BFkC9Kdc.js";import"./nullish-CHIgUVhi.js";import"./Primitive-odI4fKTA.js";import"./user-Bs-aP_A5.js";import"./VisuallyHidden-BAG-HCFC.js";import"./Collection--76CoLyc.js";import"./useId-xuC_jKGz.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./check-B_oeUEI1.js";import"./utils-Bd7HeyaL.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./useFormControl-ZbpTWXBx.js";import"./chevron-left-CMQd-YO7.js";const je={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 w-full max-w-7xl mx-auto"},De={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},Fe={class:"flex flex-col sm:flex-row gap-4 mt-6"},Ve={class:"flex-1"},Le={class:"relative"},ze={class:"space-y-4"},Ae={key:0,class:"text-center py-12 border border-dashed rounded-lg"},Be={key:1},Ne={class:"mb-4 text-sm text-muted-foreground"},Ge={class:"hidden md:block overflow-x-auto"},Ue={class:"flex items-center gap-3"},qe={key:0,class:"h-10 w-10 rounded-md overflow-hidden flex-shrink-0"},Oe=["src","alt"],Ke={key:1,class:"h-10 w-10 rounded-md bg-muted flex items-center justify-center flex-shrink-0"},Re={class:"font-medium"},We={key:0,class:"text-sm text-muted-foreground line-clamp-1"},Xe={class:"md:hidden space-y-4"},He={class:"flex items-start gap-3 mb-3"},Je={key:0,class:"h-16 w-16 rounded-md overflow-hidden flex-shrink-0"},Me=["src","alt"],Qe={key:1,class:"h-16 w-16 rounded-md bg-muted flex items-center justify-center flex-shrink-0"},Ye={class:"flex-1 min-w-0"},Ze={class:"font-medium truncate"},et={key:0,class:"text-sm text-muted-foreground line-clamp-2 mt-1"},tt={class:"space-y-2"},st={class:"flex items-center justify-between"},lt={class:"font-medium"},at={class:"flex items-center justify-between"},ot={class:"flex items-center justify-between"},rt={class:"flex gap-2 pt-2 border-t"},it={key:0,class:"mt-4"},ls={__name:"Index",props:{products:{type:Object,default:()=>({data:[],links:[],meta:{}})},filters:{type:Object,default:()=>({search:"",type:"all",status:"all"})}},setup(f){const S=f,se=[{title:"Dashboard",href:"/dashboard"},{title:"Produtos",href:"/seller/products"}],w=$(S.filters.search||""),v=$(S.filters.type||"all"),p=$(S.filters.status||"all"),y=$(!1),k=$(null),A=o=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o),c=o=>o?{color:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/20 dark:text-green-400 dark:border-green-800",label:"Ativo",icon:Ee}:{color:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800",label:"Inativo",icon:Ie},B=o=>o==="DIGITAL"?"Digital":"Físico",N=o=>o==="DIGITAL"?"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/20 dark:text-blue-400 dark:border-blue-800":"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-400 dark:border-yellow-800",le=q(()=>S.products.data||[]),T=q(()=>{let o=[...le.value];if(w.value){const t=w.value.toLowerCase();o=o.filter(a=>a.name.toLowerCase().includes(t)||a.description&&a.description.toLowerCase().includes(t))}if(v.value!=="all"&&(o=o.filter(t=>t.type===v.value)),p.value!=="all"){const t=p.value==="active";o=o.filter(a=>a.status===t)}return o}),E=()=>{x.get(route("products.index"),{search:w.value||null,type:v.value!=="all"?v.value:null,status:p.value!=="all"?p.value:null},{preserveState:!0,preserveScroll:!0})},G=o=>{k.value=o,y.value=!0},ae=()=>{k.value&&x.delete(route("products.destroy",k.value.id),{onSuccess:()=>{P.success("Produto excluído com sucesso!"),y.value=!1,k.value=null},onError:()=>{P.error("Erro ao excluir produto")}})},U=o=>{const a=!(o.status===!0||o.status===1||o.status==="1"||o.status==="true");ie({name:o.name,description:o.description||"",type:o.type,price:parseFloat(o.price),status:a,_method:"POST"}).post(route("products.update",o.id),{preserveScroll:!0,onSuccess:()=>{P.success(`Produto ${a?"ativado":"desativado"} com sucesso!`)},onError:F=>{console.error("Erro ao atualizar status:",F),F.status?P.error(F.status[0]||"Erro ao atualizar status do produto"):P.error("Erro ao atualizar status do produto")}})};return(o,t)=>(n(),d(L,null,[s(e(oe),{title:"Produtos"}),s(me,{breadcrumbs:se},{default:l(()=>[r("div",je,[s(e(R),{class:"w-full border-border bg-card"},{default:l(()=>[s(e(ce),{class:"pb-4"},{default:l(()=>[r("div",De,[r("div",null,[s(e(ve),{class:"text-2xl font-bold text-card-foreground flex items-center gap-2"},{default:l(()=>[s(e(Y),{class:"h-6 w-6"}),t[7]||(t[7]=i(" Produtos "))]),_:1}),s(e(fe),{class:"text-base mt-1 text-muted-foreground"},{default:l(()=>t[8]||(t[8]=[i(" Gerencie seus produtos e serviços ")])),_:1})]),s(e(m),{onClick:t[0]||(t[0]=a=>e(x).visit(o.route("products.create"))),size:"sm",class:"bg-primary text-primary-foreground hover:bg-primary/90 w-full sm:w-auto"},{default:l(()=>[s(e(Z),{class:"h-4 w-4 mr-2"}),t[9]||(t[9]=i(" Novo Produto "))]),_:1})]),r("div",Fe,[r("div",Ve,[r("div",Le,[s(e(Pe),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s(e(ge),{modelValue:w.value,"onUpdate:modelValue":t[1]||(t[1]=a=>w.value=a),placeholder:"Buscar produtos...",class:"pl-10 w-full",onKeyup:re(E,["enter"])},null,8,["modelValue"])])]),s(e(H),{modelValue:v.value,"onUpdate:modelValue":[t[2]||(t[2]=a=>v.value=a),E]},{default:l(()=>[s(e(J),{class:"w-full sm:w-[180px]"},{default:l(()=>[s(e(M),{placeholder:"Todos os tipos"})]),_:1}),s(e(Q),null,{default:l(()=>[s(e(b),{value:"all"},{default:l(()=>t[10]||(t[10]=[i("Todos os tipos")])),_:1}),s(e(b),{value:"DIGITAL"},{default:l(()=>t[11]||(t[11]=[i("Digital")])),_:1}),s(e(b),{value:"FISICAL"},{default:l(()=>t[12]||(t[12]=[i("Físico")])),_:1})]),_:1})]),_:1},8,["modelValue"]),s(e(H),{modelValue:p.value,"onUpdate:modelValue":[t[3]||(t[3]=a=>p.value=a),E]},{default:l(()=>[s(e(J),{class:"w-full sm:w-[180px]"},{default:l(()=>[s(e(M),{placeholder:"Todos os status"})]),_:1}),s(e(Q),null,{default:l(()=>[s(e(b),{value:"all"},{default:l(()=>t[13]||(t[13]=[i("Todos os status")])),_:1}),s(e(b),{value:"active"},{default:l(()=>t[14]||(t[14]=[i("Ativo")])),_:1}),s(e(b),{value:"inactive"},{default:l(()=>t[15]||(t[15]=[i("Inativo")])),_:1})]),_:1})]),_:1},8,["modelValue"]),s(e(m),{variant:"outline",onClick:E,class:"w-full sm:w-auto"},{default:l(()=>[s(e(Se),{class:"h-4 w-4 mr-2"}),t[16]||(t[16]=i(" Filtros "))]),_:1})])]),_:1}),s(e(W),null,{default:l(()=>[r("div",ze,[T.value.length===0?(n(),d("div",Ae,[s(e(Y),{class:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),t[18]||(t[18]=r("h3",{class:"text-lg font-medium mb-2"},"Nenhum produto encontrado",-1)),t[19]||(t[19]=r("p",{class:"text-sm text-muted-foreground mb-4"}," Comece criando seu primeiro produto para começar a vender ",-1)),s(e(m),{onClick:t[4]||(t[4]=a=>e(x).visit(o.route("products.create"))),variant:"outline"},{default:l(()=>[s(e(Z),{class:"h-4 w-4 mr-2"}),t[17]||(t[17]=i(" Criar Produto "))]),_:1})])):(n(),d("div",Be,[r("div",Ne,u(T.value.length)+" produto(s) encontrado(s) ",1),r("div",Ge,[s(e(pe),null,{default:l(()=>[s(e(_e),null,{default:l(()=>[s(e(X),null,{default:l(()=>[s(e(C),null,{default:l(()=>t[20]||(t[20]=[i("Produto")])),_:1}),s(e(C),null,{default:l(()=>t[21]||(t[21]=[i("Preço")])),_:1}),s(e(C),null,{default:l(()=>t[22]||(t[22]=[i("Status")])),_:1}),s(e(C),null,{default:l(()=>t[23]||(t[23]=[i("Tipo")])),_:1}),s(e(C),{class:"text-right"},{default:l(()=>t[24]||(t[24]=[i("Ações")])),_:1})]),_:1})]),_:1}),s(e(xe),null,{default:l(()=>[(n(!0),d(L,null,O(T.value,a=>(n(),g(e(X),{key:a.id},{default:l(()=>[s(e(h),null,{default:l(()=>[r("div",Ue,[a.image?(n(),d("div",qe,[r("img",{src:`/storage/${a.image}`,alt:a.name,class:"h-full w-full object-cover"},null,8,Oe)])):(n(),d("div",Ke,[s(e(K),{class:"h-5 w-5 text-muted-foreground"})])),r("div",null,[r("div",Re,u(a.name),1),a.description?(n(),d("div",We,u(a.description),1)):V("",!0)])])]),_:2},1024),s(e(h),{class:"font-medium"},{default:l(()=>[i(u(A(a.price)),1)]),_:2},1024),s(e(h),null,{default:l(()=>[s(e(D),{class:I(c(a.status).color),variant:"outline"},{default:l(()=>[(n(),g(j(c(a.status).icon),{class:"h-3 w-3 mr-1"})),i(" "+u(c(a.status).label),1)]),_:2},1032,["class"])]),_:2},1024),s(e(h),null,{default:l(()=>[s(e(D),{class:I(N(a.type)),variant:"outline"},{default:l(()=>[i(u(B(a.type)),1)]),_:2},1032,["class"])]),_:2},1024),s(e(h),{class:"text-right"},{default:l(()=>[s(e(ne),null,{default:l(()=>[s(e(ue),{"as-child":""},{default:l(()=>[s(e(m),{variant:"ghost",size:"sm"},{default:l(()=>[s(e(Te),{class:"h-4 w-4"})]),_:1})]),_:1}),s(e(de),{align:"end"},{default:l(()=>[s(e(z),{onClick:_=>e(x).visit(o.route("products.edit",a.id))},{default:l(()=>[s(e(ee),{class:"h-4 w-4 mr-2"}),t[25]||(t[25]=i(" Editar "))]),_:2},1032,["onClick"]),s(e(z),{onClick:_=>U(a)},{default:l(()=>[(n(),g(j(c(!a.status).icon),{class:"h-4 w-4 mr-2"})),i(" "+u(a.status?"Desativar":"Ativar"),1)]),_:2},1032,["onClick"]),s(e(z),{onClick:_=>G(a),class:"text-destructive"},{default:l(()=>[s(e(te),{class:"h-4 w-4 mr-2"}),t[26]||(t[26]=i(" Excluir "))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),r("div",Xe,[(n(!0),d(L,null,O(T.value,a=>(n(),g(e(R),{key:a.id},{default:l(()=>[s(e(W),{class:"p-4"},{default:l(()=>[r("div",He,[a.image?(n(),d("div",Je,[r("img",{src:`/storage/${a.image}`,alt:a.name,class:"h-full w-full object-cover"},null,8,Me)])):(n(),d("div",Qe,[s(e(K),{class:"h-8 w-8 text-muted-foreground"})])),r("div",Ye,[r("h3",Ze,u(a.name),1),a.description?(n(),d("p",et,u(a.description),1)):V("",!0)])]),r("div",tt,[r("div",st,[t[27]||(t[27]=r("span",{class:"text-sm text-muted-foreground"},"Preço:",-1)),r("span",lt,u(A(a.price)),1)]),r("div",at,[t[28]||(t[28]=r("span",{class:"text-sm text-muted-foreground"},"Status:",-1)),s(e(D),{class:I(c(a.status).color),variant:"outline"},{default:l(()=>[(n(),g(j(c(a.status).icon),{class:"h-3 w-3 mr-1"})),i(" "+u(c(a.status).label),1)]),_:2},1032,["class"])]),r("div",ot,[t[29]||(t[29]=r("span",{class:"text-sm text-muted-foreground"},"Tipo:",-1)),s(e(D),{class:I(N(a.type)),variant:"outline"},{default:l(()=>[i(u(B(a.type)),1)]),_:2},1032,["class"])]),r("div",rt,[s(e(m),{variant:"outline",size:"sm",class:"flex-1",onClick:_=>e(x).visit(o.route("products.edit",a.id))},{default:l(()=>[s(e(ee),{class:"h-4 w-4 mr-2"}),t[30]||(t[30]=i(" Editar "))]),_:2},1032,["onClick"]),s(e(m),{variant:"outline",size:"sm",onClick:_=>U(a)},{default:l(()=>[(n(),g(j(c(!a.status).icon),{class:"h-4 w-4"}))]),_:2},1032,["onClick"]),s(e(m),{variant:"outline",size:"sm",onClick:_=>G(a),class:"text-destructive hover:text-destructive"},{default:l(()=>[s(e(te),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])])]),_:2},1024)]),_:2},1024))),128))])]))])]),_:1})]),_:1}),f.products&&(f.products.meta&&f.products.meta.total>10&&f.products.meta.last_page>1||f.products.total>10&&f.products.last_page>1)?(n(),d("div",it,[s(e(he),{pagination:f.products},null,8,["pagination"])])):V("",!0),s(e(be),{open:y.value,"onUpdate:open":t[6]||(t[6]=a=>y.value=a)},{default:l(()=>[s(e(we),{class:"sm:max-w-md"},{default:l(()=>[s(e(ye),null,{default:l(()=>[s(e(ke),null,{default:l(()=>t[31]||(t[31]=[i("Confirmar Exclusão")])),_:1}),s(e($e),{class:"text-sm"},{default:l(()=>{var a;return[i(' Tem certeza que deseja excluir o produto "'+u((a=k.value)==null?void 0:a.name)+'"? Esta ação não pode ser desfeita. ',1)]}),_:1})]),_:1}),s(e(Ce),{class:"flex-col sm:flex-row gap-2"},{default:l(()=>[s(e(m),{variant:"outline",onClick:t[5]||(t[5]=a=>y.value=!1),class:"w-full sm:w-auto"},{default:l(()=>t[32]||(t[32]=[i(" Cancelar ")])),_:1}),s(e(m),{variant:"destructive",onClick:ae,class:"w-full sm:w-auto"},{default:l(()=>t[33]||(t[33]=[i(" Excluir Produto ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])])]),_:1})],64))}};export{ls as default};
