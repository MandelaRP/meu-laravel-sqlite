import{_ as B}from"./AppLayout.vue_vue_type_script_setup_true_lang-CrF1FF1Y.js";import{r as _,c as f,o as d,a as s,u as e,m as P,b as r,d as a,h as g,e as w,f as l,W as v,t as u,F as h,g as D,C as S}from"./app-S3kx2b0d.js";import{l as k}from"./index-C0K9plCn.js";import{_ as n}from"./Button.vue_vue_type_script_setup_true_lang-Bu1_OuLZ.js";import{_ as z,a as A}from"./CardContent.vue_vue_type_script_setup_true_lang-DPkaWiTn.js";import{_ as L,a as U}from"./CardTitle.vue_vue_type_script_setup_true_lang-Bn8k43WC.js";import{_ as y}from"./index-Ctvap5pn.js";import{_ as q,a as R,b as V,c as F,d as I}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CMVN-k-g.js";import{_ as W}from"./Separator.vue_vue_type_script_setup_true_lang-CJQNhXNV.js";import{_ as G,a as H}from"./index-BHg1EohH.js";import{T as J}from"./triangle-alert-KGnXUbal.js";import{P as C}from"./plus-D_WhIUaA.js";import{S as K}from"./shopping-cart-SOVwChfQ.js";import{C as M}from"./copy-Bjr5nk5x.js";import{E as O}from"./external-link-Bmk3u19-.js";import{S as Q}from"./square-pen-BmZ5A-jv.js";import{T as X}from"./trash-2-Cf4K9EX2.js";import"./utils-CytzSlOG.js";import"./index-BszNJtDQ.js";import"./index-BGfks83y.js";import"./floating-ui.vue-Bsqwf4g4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./x-Dj8XHr1q.js";import"./createLucideIcon-B4R1MoSR.js";import"./wallet-W4yJT2z-.js";import"./credit-card-LFa5ma_M.js";import"./package-q04n0eFj.js";import"./users-C6A098f4.js";import"./building-2-BRWwAQkA.js";import"./chevron-right-BTpdya_p.js";import"./useForwardExpose-BFkC9Kdc.js";import"./nullish-CHIgUVhi.js";import"./Primitive-odI4fKTA.js";import"./user-Bs-aP_A5.js";const Y={class:"flex flex-col gap-4 p-3 md:gap-6 md:p-4 lg:p-6 w-full max-w-7xl mx-auto"},Z={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 md:gap-4"},tt={class:"space-y-3 md:space-y-4"},et={key:0,class:"text-center py-6 md:py-8 border border-dashed rounded-lg"},st={class:"mt-3 md:mt-4 text-base md:text-lg font-medium"},at={class:"mt-1 text-xs md:text-sm text-muted-foreground max-w-md mx-auto px-4"},ot={key:1,class:"grid gap-3 md:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},rt={key:0,class:"w-full h-20 md:h-24 overflow-hidden"},it=["src","alt"],lt={class:"flex items-start justify-between"},dt={class:"flex-1 min-w-0"},nt={class:"flex items-center justify-between"},mt={class:"font-medium text-sm md:text-base"},ut={class:"grid grid-cols-1 gap-2"},ct={class:"flex items-center gap-1.5"},ft={key:0,class:"flex items-center justify-between"},pt={class:"flex gap-2"},xt={class:"flex gap-2"},vt={class:"flex flex-col sm:flex-row justify-end gap-3 mt-4"},Xt={__name:"Index",props:{products:Array,checkouts:Array},setup(i){const b=[],p=_(null),x=_(!1),$=m=>{const t=`${typeof window<"u"?window.location.origin:""}/checkout/${m.id}`;typeof navigator<"u"&&navigator.clipboard&&(navigator.clipboard.writeText(t),k.success("URL copiada para a área de transferência!"))},E=m=>{const t=`/checkout/${m.id}`;window.open(t,"_blank")},N=m=>{p.value=m,x.value=!0},T=()=>{p.value&&S().delete(route("checkout.destroy",p.value.id),{onSuccess:()=>{k.success("Checkout excluído com sucesso!"),x.value=!1,p.value=null},onError:()=>{k.error("Erro ao excluir checkout")}})},j=m=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(m);return(m,t)=>(d(),f(h,null,[s(e(P),{title:"Checkout"}),s(B,{breadcrumbs:b},{default:r(()=>[a("div",Y,[!i.products||i.products.length===0?(d(),g(e(G),{key:0,variant:"destructive"},{default:r(()=>[s(e(J),{class:"h-4 w-4"}),s(e(H),{class:"text-sm"},{default:r(()=>[t[7]||(t[7]=l(" Para criar checkouts, você precisa primeiro cadastrar produtos. ")),s(e(n),{variant:"link",class:"p-0 h-auto underline text-sm",onClick:t[0]||(t[0]=o=>e(v).visit("/seller/products/create"))},{default:r(()=>t[6]||(t[6]=[l(" Clique aqui para criar seu primeiro produto ")])),_:1})]),_:1})]),_:1})):w("",!0),a("div",Z,[t[10]||(t[10]=a("div",null,[a("h1",{class:"text-xl md:text-2xl lg:text-3xl font-bold tracking-tight"},"Checkout"),a("p",{class:"text-muted-foreground text-xs md:text-sm mt-1"}," Gerencie seus checkouts e links de pagamento ")],-1)),s(e(n),{onClick:t[1]||(t[1]=o=>e(v).visit("/seller/checkout/create")),class:"self-start sm:self-auto w-full sm:w-auto",disabled:!i.products||i.products.length===0,title:!i.products||i.products.length===0?"Crie produtos primeiro para poder criar checkouts":""},{default:r(()=>[s(e(C),{class:"mr-2 h-4 w-4"}),t[8]||(t[8]=a("span",{class:"hidden sm:inline"},"Novo Checkout",-1)),t[9]||(t[9]=a("span",{class:"sm:hidden"},"Novo",-1))]),_:1},8,["disabled","title"])]),a("div",tt,[i.checkouts.length===0?(d(),f("div",et,[s(e(K),{class:"h-8 w-8 md:h-10 md:w-10 mx-auto text-muted-foreground"}),a("h3",st,u(!i.products||i.products.length===0?"Nenhum produto cadastrado":"Nenhum checkout criado"),1),a("p",at,u(!i.products||i.products.length===0?"Cadastre produtos primeiro para poder criar checkouts":"Crie seu primeiro checkout para começar a receber pagamentos"),1),i.products&&i.products.length>0?(d(),g(e(n),{key:0,variant:"outline",class:"mt-3 md:mt-4 w-full sm:w-auto",onClick:t[2]||(t[2]=o=>e(v).visit("/seller/checkout/create"))},{default:r(()=>[s(e(C),{class:"mr-2 h-4 w-4"}),t[11]||(t[11]=l(" Criar Checkout "))]),_:1})):(d(),g(e(n),{key:1,variant:"outline",class:"mt-3 md:mt-4 w-full sm:w-auto",onClick:t[3]||(t[3]=o=>e(v).visit("/seller/products/create"))},{default:r(()=>[s(e(C),{class:"mr-2 h-4 w-4"}),t[12]||(t[12]=l(" Criar Produto "))]),_:1}))])):(d(),f("div",ot,[(d(!0),f(h,null,D(i.checkouts,o=>(d(),g(e(z),{key:o.id,class:"overflow-hidden"},{default:r(()=>[o.banner?(d(),f("div",rt,[a("img",{src:`/storage/${o.banner}`,alt:`Banner do checkout ${o.product.name}`,class:"w-full h-full object-cover"},null,8,it)])):w("",!0),s(e(L),{class:"pb-2 px-3 md:px-6"},{default:r(()=>[a("div",lt,[a("div",dt,[s(e(U),{class:"text-base md:text-lg truncate"},{default:r(()=>[l(u(o.product.name),1)]),_:2},1024)])])]),_:2},1024),s(e(A),{class:"space-y-3 md:space-y-4 px-3 md:px-6"},{default:r(()=>[a("div",nt,[t[13]||(t[13]=a("span",{class:"text-xs md:text-sm text-muted-foreground"},"Preço:",-1)),a("span",mt,u(j(o.product.price)),1)]),a("div",ut,[a("div",ct,[s(e(y),{variant:"outline",class:"text-xs"},{default:r(()=>[l(u(o.layout==="single"?"Uma coluna":"Duas colunas"),1)]),_:2},1024)])]),o.countdown_enabled?(d(),f("div",ft,[t[14]||(t[14]=a("span",{class:"text-xs md:text-sm text-muted-foreground"},"Contador:",-1)),s(e(y),{variant:o.countdown_expired?"destructive":"default",class:"text-xs"},{default:r(()=>[l(u(o.countdown_expired?"Expirado":"Ativo"),1)]),_:2},1032,["variant"])])):w("",!0),s(e(W)),a("div",pt,[s(e(n),{variant:"outline",size:"sm",onClick:c=>$(o),class:"flex-1 text-xs"},{default:r(()=>[s(e(M),{class:"mr-1 md:mr-2 h-3 w-3 md:h-4 md:w-4"}),t[15]||(t[15]=a("span",{class:"hidden sm:inline"},"Copiar URL",-1)),t[16]||(t[16]=a("span",{class:"sm:hidden"},"Copiar",-1))]),_:2},1032,["onClick"]),s(e(n),{variant:"outline",size:"sm",onClick:c=>E(o),title:"Abrir checkout",class:"px-2 md:px-3"},{default:r(()=>[s(e(O),{class:"h-3 w-3 md:h-4 md:w-4"})]),_:2},1032,["onClick"])]),a("div",xt,[s(e(n),{variant:"secondary",size:"sm",onClick:c=>e(v).visit(m.route("checkout.edit",o.id)),class:"flex-1 text-xs"},{default:r(()=>[s(e(Q),{class:"mr-1 md:mr-2 h-3 w-3 md:h-4 md:w-4"}),t[17]||(t[17]=a("span",{class:"hidden sm:inline"},"Editar",-1)),t[18]||(t[18]=a("span",{class:"sm:hidden"},"Editar",-1))]),_:2},1032,["onClick"]),s(e(n),{variant:"outline",size:"sm",onClick:c=>N(o),class:"text-destructive hover:text-destructive px-2 md:px-3"},{default:r(()=>[s(e(X),{class:"h-3 w-3 md:h-4 md:w-4"})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]))])]),s(e(q),{open:x.value,"onUpdate:open":t[5]||(t[5]=o=>x.value=o)},{default:r(()=>[s(e(R),{class:"sm:max-w-md"},{default:r(()=>[s(e(V),null,{default:r(()=>[s(e(F),null,{default:r(()=>t[19]||(t[19]=[l("Confirmar Exclusão")])),_:1}),s(e(I),{class:"text-sm"},{default:r(()=>{var o,c;return[l(' Tem certeza que deseja excluir o checkout "'+u((c=(o=p.value)==null?void 0:o.product)==null?void 0:c.name)+'"? Esta ação não pode ser desfeita. ',1)]}),_:1})]),_:1}),a("div",vt,[s(e(n),{variant:"outline",onClick:t[4]||(t[4]=o=>x.value=!1),class:"w-full sm:w-auto"},{default:r(()=>t[20]||(t[20]=[l(" Cancelar ")])),_:1}),s(e(n),{variant:"destructive",onClick:T,class:"w-full sm:w-auto"},{default:r(()=>t[21]||(t[21]=[l(" Excluir Checkout ")])),_:1})])]),_:1})]),_:1},8,["open"])]),_:1})],64))}};export{Xt as default};
