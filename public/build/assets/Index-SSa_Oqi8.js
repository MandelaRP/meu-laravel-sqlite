import{z as D,O as de,k as K,h as j,o as h,b as y,I as z,e as S,u as e,S as O,v as ue,a as n,r as G,aa as _e,C as be,w as W,c as q,d,t as A,F as ke,g as xe,i as B,j as Ce,f as R,A as T,G as te,W as we,m as Re}from"./app-S3kx2b0d.js";import{_ as I}from"./Input.vue_vue_type_script_setup_true_lang-Zo94wQZG.js";import{_ as se}from"./Button.vue_vue_type_script_setup_true_lang-Bu1_OuLZ.js";import{_ as V}from"./Label.vue_vue_type_script_setup_true_lang-Y6gPyrr0.js";import{u as Ve,b as qe}from"./VisuallyHidden-BAG-HCFC.js";import{u as Z,c as pe}from"./useForwardExpose-BFkC9Kdc.js";import{u as Ee}from"./useId-xuC_jKGz.js";import{u as ce}from"./useFormControl-ZbpTWXBx.js";import{P as ee}from"./Primitive-odI4fKTA.js";import{R as Pe,a as Se}from"./RovingFocusItem-BgBha15S.js";import{V as me}from"./VisuallyHiddenInput-CspRZqUR.js";import{a as fe,b as re,r as ge}from"./index-BszNJtDQ.js";import{c as ve}from"./utils-CytzSlOG.js";import{h as je}from"./handleAndDispatchCustomEvent-ChOKVcqp.js";import{i as Ae}from"./ohash.D__AXeF1-DHF4M4F_.js";import{P as Ie}from"./Collection--76CoLyc.js";import{c as Fe}from"./createLucideIcon-B4R1MoSR.js";import{u as Me}from"./use-toast-DniFefJe.js";import Be from"./LogoDark-f-TSCcUa.js";import{_ as P}from"./InputError.vue_vue_type_script_setup_true_lang-BOvJqWDT.js";import{_ as Ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{U as oe}from"./user-Bs-aP_A5.js";import{M as $e}from"./map-pin-DuXh_hub.js";import{F as Ge}from"./file-text-BU_yez8X.js";import{C as $}from"./check-B_oeUEI1.js";import{B as De}from"./building-2-BRWwAQkA.js";import{L as Y}from"./loader-circle-BH5IDTPz.js";import{U as J}from"./upload-DS4P8H_v.js";import"./index-BGfks83y.js";import"./floating-ui.vue-Bsqwf4g4.js";import"./credit-card-LFa5ma_M.js";import"./zap-BZYjjmH7.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=Fe("CircleIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Te="radio.select";function Le(l,s,r){je(Te,r,{originalEvent:l,value:s})}var ze=D({__name:"Radio",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},checked:{type:Boolean,required:!1,default:void 0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:checked","select"],setup(l,{emit:s}){const r=l,a=s,i=fe(r,"checked",a,{passive:r.checked===void 0}),{value:p}=de(r),{forwardRef:m,currentElement:v}=Z(),t=ce(v),f=K(()=>{var g;return r.id&&v.value?((g=document.querySelector(`[for="${r.id}"]`))==null?void 0:g.innerText)??r.value:void 0});function k(g){r.disabled||Le(g,r.value,x=>{a("select",x),!(x!=null&&x.defaultPrevented)&&(i.value=!0,t.value&&x.stopPropagation())})}return(g,x)=>(h(),j(e(ee),O(g.$attrs,{id:g.id,ref:e(m),role:"radio",type:g.as==="button"?"button":void 0,as:g.as,"aria-checked":e(i),"aria-label":f.value,"as-child":g.asChild,disabled:g.disabled?"":void 0,"data-state":e(i)?"checked":"unchecked","data-disabled":g.disabled?"":void 0,value:e(p),required:g.required,name:g.name,onClick:ue(k,["stop"])}),{default:y(()=>[z(g.$slots,"default",{checked:e(i)}),e(t)&&g.name?(h(),j(e(me),{key:0,type:"radio",tabindex:"-1",value:e(p),checked:!!e(i),name:g.name,disabled:g.disabled,required:g.required},null,8,["value","checked","name","disabled","required"])):S("v-if",!0)]),_:3},16,["id","type","as","aria-checked","aria-label","as-child","disabled","data-state","data-disabled","value","required","name"]))}}),Oe=ze;const[We,Je]=pe("RadioGroupRoot");var He=D({__name:"RadioGroupRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue"],setup(l,{emit:s}){const r=l,a=s,{forwardRef:i,currentElement:p}=Z(),m=fe(r,"modelValue",a,{defaultValue:r.defaultValue,passive:r.modelValue===void 0}),{disabled:v,loop:t,orientation:f,name:k,required:g,dir:x}=de(r),b=Ee(x),w=ce(p);return Je({modelValue:m,changeModelValue:C=>{m.value=C},disabled:v,loop:t,orientation:f,name:k==null?void 0:k.value,required:g}),(C,_)=>(h(),j(e(Pe),{"as-child":"",orientation:e(f),dir:e(b),loop:e(t)},{default:y(()=>[n(e(ee),{ref:e(i),role:"radiogroup","data-disabled":e(v)?"":void 0,"as-child":C.asChild,as:C.as,"aria-orientation":e(f),"aria-required":e(g),dir:e(b)},{default:y(()=>[z(C.$slots,"default",{modelValue:e(m)}),e(w)&&e(k)?(h(),j(e(me),{key:0,required:e(g),disabled:e(v),value:e(m),name:e(k)},null,8,["required","disabled","value","name"])):S("v-if",!0)]),_:3},8,["data-disabled","as-child","as","aria-orientation","aria-required","dir"])]),_:3},8,["orientation","dir","loop"]))}}),Ke=He;const[Ze,Ye]=pe("RadioGroupItem");var Qe=D({inheritAttrs:!1,__name:"RadioGroupItem",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["select"],setup(l,{emit:s}){const r=l,a=s,{forwardRef:i,currentElement:p}=Z(),m=We(),v=K(()=>m.disabled.value||r.disabled),t=K(()=>m.required.value||r.required),f=K(()=>{var b;return Ae((b=m.modelValue)==null?void 0:b.value,r.value)});Ye({disabled:v,checked:f});const k=G(!1),g=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];re("keydown",b=>{g.includes(b.key)&&(k.value=!0)}),re("keyup",()=>{k.value=!1});function x(){setTimeout(()=>{var b;k.value&&((b=p.value)==null||b.click())},0)}return(b,w)=>(h(),j(e(Se),{checked:f.value,disabled:v.value,"as-child":"",focusable:!v.value,active:f.value},{default:y(()=>[n(Oe,O({...b.$attrs,...r},{ref:e(i),checked:f.value,required:t.value,disabled:v.value,"onUpdate:checked":w[0]||(w[0]=C=>e(m).changeModelValue(b.value)),onSelect:w[1]||(w[1]=C=>a("select",C)),onKeydown:w[2]||(w[2]=_e(ue(()=>{},["prevent"]),["enter"])),onFocus:x}),{default:y(()=>[z(b.$slots,"default",{checked:f.value,required:t.value,disabled:v.value})]),_:3},16,["checked","required","disabled"])]),_:3},8,["checked","disabled","focusable","active"]))}}),Xe=Qe,et=D({__name:"RadioGroupIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(l){const{forwardRef:s}=Z(),r=Ze();return(a,i)=>(h(),j(e(Ie),{present:a.forceMount||e(r).checked.value},{default:y(()=>[n(e(ee),O({ref:e(s),"data-state":e(r).checked.value?"checked":"unchecked","data-disabled":e(r).disabled.value?"":void 0,"as-child":a.asChild,as:a.as},a.$attrs),{default:y(()=>[z(a.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),tt=et;const st=D({__name:"RadioGroup",props:{modelValue:{},defaultValue:{},disabled:{type:Boolean},orientation:{},dir:{},loop:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(l,{emit:s}){const r=l,a=s,i=ge(r,"class"),p=Ve(i,a);return(m,v)=>(h(),j(e(Ke),O({class:e(ve)("grid gap-2",r.class)},e(p)),{default:y(()=>[z(m.$slots,"default")]),_:3},16,["class"]))}}),ae=D({__name:"RadioGroupItem",props:{id:{},value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},setup(l){const s=l,r=ge(s,"class"),a=qe(r);return(i,p)=>(h(),j(e(Xe),O(e(a),{class:e(ve)("peer aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s.class)}),{default:y(()=>[n(e(tt),{class:"flex items-center justify-center"},{default:y(()=>[n(e(Ue),{class:"h-2.5 w-2.5 fill-current text-current"})]),_:1})]),_:1},16,["class"]))}});var rt=Object.defineProperty,ot=(l,s,r)=>s in l?rt(l,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[s]=r,L=(l,s,r)=>ot(l,typeof s!="symbol"?s+"":s,r);const le={"#":{pattern:/[0-9]/},"@":{pattern:/[a-zA-Z]/},"*":{pattern:/[a-zA-Z0-9]/}},ne=(l,s,r)=>l.replaceAll(s,"").replace(r,".").replace("..",".").replace(/[^.\d]/g,""),ie=(l,s,r)=>{var a;return new Intl.NumberFormat(((a=r.number)==null?void 0:a.locale)??"en",{minimumFractionDigits:l,maximumFractionDigits:s,roundingMode:"trunc"})},at=(l,s=!0,r)=>{var a,i,p,m;const v=((a=r.number)==null?void 0:a.unsigned)!==!0&&l.startsWith("-")?"-":"",t=((i=r.number)==null?void 0:i.fraction)??0;let f=ie(0,t,r);const k=f.formatToParts(1000.12),g=((p=k.find(_=>_.type==="group"))==null?void 0:p.value)??" ",x=((m=k.find(_=>_.type==="decimal"))==null?void 0:m.value)??".",b=ne(l,g,x);if(Number.isNaN(parseFloat(b)))return v;const w=b.split(".");if(w[1]!=null&&w[1].length>=1){const _=w[1].length<=t?w[1].length:t;f=ie(_,t,r)}let C=f.format(parseFloat(b));return s?t>0&&b.endsWith(".")&&!b.slice(0,-1).includes(".")&&(C+=x):C=ne(C,g,x),v+C},he=l=>JSON.parse(l.replaceAll("'",'"')),lt=(l,s={})=>{const r={...s};l.dataset.maska!=null&&l.dataset.maska!==""&&(r.mask=nt(l.dataset.maska)),l.dataset.maskaEager!=null&&(r.eager=H(l.dataset.maskaEager)),l.dataset.maskaReversed!=null&&(r.reversed=H(l.dataset.maskaReversed)),l.dataset.maskaTokensReplace!=null&&(r.tokensReplace=H(l.dataset.maskaTokensReplace)),l.dataset.maskaTokens!=null&&(r.tokens=it(l.dataset.maskaTokens));const a={};return l.dataset.maskaNumberLocale!=null&&(a.locale=l.dataset.maskaNumberLocale),l.dataset.maskaNumberFraction!=null&&(a.fraction=parseInt(l.dataset.maskaNumberFraction)),l.dataset.maskaNumberUnsigned!=null&&(a.unsigned=H(l.dataset.maskaNumberUnsigned)),(l.dataset.maskaNumber!=null||Object.values(a).length>0)&&(r.number=a),r},H=l=>l!==""?!!JSON.parse(l):!0,nt=l=>l.startsWith("[")&&l.endsWith("]")?he(l):l,it=l=>{if(l.startsWith("{")&&l.endsWith("}"))return he(l);const s={};return l.split("|").forEach(r=>{const a=r.split(":");s[a[0]]={pattern:ye()?new RegExp(a[1],"u"):new RegExp(a[1]),optional:a[2]==="optional",multiple:a[2]==="multiple",repeated:a[2]==="repeated"}}),s},ye=()=>{try{return new RegExp("\\p{L}","u"),!0}catch{return!1}};class dt{constructor(s={}){L(this,"opts",{}),L(this,"memo",new Map);const r={...s};if(r.tokens!=null){r.tokens=r.tokensReplace?{...r.tokens}:{...le,...r.tokens};for(const a of Object.values(r.tokens))typeof a.pattern=="string"&&(a.pattern=ye()?new RegExp(a.pattern,"u"):new RegExp(a.pattern))}else r.tokens=le;Array.isArray(r.mask)&&(r.mask.length>1?r.mask=[...r.mask].sort((a,i)=>a.length-i.length):r.mask=r.mask[0]??""),r.mask===""&&(r.mask=null),this.opts=r}masked(s){return this.process(String(s),this.findMask(String(s)))}unmasked(s){return this.process(String(s),this.findMask(String(s)),!1)}isEager(){return this.opts.eager===!0}isReversed(){return this.opts.reversed===!0}completed(s){const r=this.findMask(String(s));if(this.opts.mask==null||r==null)return!1;const a=this.process(String(s),r).length;return typeof this.opts.mask=="string"?a>=this.opts.mask.length:a>=r.length}findMask(s){const r=this.opts.mask;if(r==null)return null;if(typeof r=="string")return r;if(typeof r=="function")return r(s);const a=this.process(s,r.slice(-1).pop()??"",!1);return r.find(i=>this.process(s,i,!1).length>=a.length)??""}escapeMask(s){const r=[],a=[];return s.split("").forEach((i,p)=>{i==="!"&&s[p-1]!=="!"?a.push(p-a.length):r.push(i)}),{mask:r.join(""),escaped:a}}process(s,r,a=!0){if(this.opts.number!=null)return at(s,a,this.opts);if(r==null)return s;const i=`v=${s},mr=${r},m=${a?1:0}`;if(this.memo.has(i))return this.memo.get(i);const{mask:p,escaped:m}=this.escapeMask(r),v=[],t=this.opts.tokens!=null?this.opts.tokens:{},f=this.isReversed()?-1:1,k=this.isReversed()?"unshift":"push",g=this.isReversed()?0:p.length-1,x=this.isReversed()?()=>_>-1&&E>-1:()=>_<p.length&&E<s.length,b=M=>!this.isReversed()&&M<=g||this.isReversed()&&M>=g;let w,C=-1,_=this.isReversed()?p.length-1:0,E=this.isReversed()?s.length-1:0,U=!1;for(;x();){const M=p.charAt(_),F=t[M],c=(F==null?void 0:F.transform)!=null?F.transform(s.charAt(E)):s.charAt(E);if(!m.includes(_)&&F!=null?(c.match(F.pattern)!=null?(v[k](c),F.repeated?(C===-1?C=_:_===g&&_!==C&&(_=C-f),g===C&&(_-=f)):F.multiple&&(U=!0,_-=f),_+=f):F.multiple?U&&(_+=f,E-=f,U=!1):c===w?w=void 0:F.optional&&(_+=f,E-=f),E+=f):(a&&!this.isEager()&&v[k](M),c===M&&!this.isEager()?E+=f:w=M,this.isEager()||(_+=f)),this.isEager())for(;b(_)&&(t[p.charAt(_)]==null||m.includes(_));){if(a){if(v[k](p.charAt(_)),s.charAt(E)===p.charAt(_)){_+=f,E+=f;continue}}else p.charAt(_)===s.charAt(E)&&(E+=f);_+=f}}return this.memo.set(i,v.join("")),this.memo.get(i)}}class ut{constructor(s,r={}){L(this,"items",new Map),L(this,"eventAbortController"),L(this,"onInput",a=>{if(a instanceof CustomEvent&&a.type==="input"&&!a.isTrusted&&!a.bubbles)return;const i=a.target,p=this.items.get(i);if(p===void 0)return;const m="inputType"in a&&a.inputType.startsWith("delete"),v=p.isEager(),t=m&&v&&p.unmasked(i.value)===""?"":i.value;this.fixCursor(i,m,()=>this.setValue(i,t))}),this.options=r,this.eventAbortController=new AbortController,this.init(this.getInputs(s))}update(s={}){this.options={...s},this.init(Array.from(this.items.keys()))}updateValue(s){var r;s.value!==""&&s.value!==((r=this.processInput(s))==null?void 0:r.masked)&&this.setValue(s,s.value)}destroy(){this.eventAbortController.abort(),this.items.clear()}init(s){const r=this.getOptions(this.options);for(const a of s){if(!this.items.has(a)){const{signal:p}=this.eventAbortController;a.addEventListener("input",this.onInput,{capture:!0,signal:p})}const i=new dt(lt(a,r));this.items.set(a,i),queueMicrotask(()=>this.updateValue(a)),a.selectionStart===null&&i.isEager()&&console.warn("Maska: input of `%s` type is not supported",a.type)}}getInputs(s){return typeof s=="string"?Array.from(document.querySelectorAll(s)):"length"in s?Array.from(s):[s]}getOptions(s){const{onMaska:r,preProcess:a,postProcess:i,...p}=s;return p}fixCursor(s,r,a){var i,p;const m=s.selectionStart,v=s.value;if(a(),m===null||m===v.length&&!r)return;const t=s.value,f=v.slice(0,m),k=t.slice(0,m),g=(i=this.processInput(s,f))==null?void 0:i.unmasked,x=(p=this.processInput(s,k))==null?void 0:p.unmasked;if(g===void 0||x===void 0)return;let b=m;f!==k&&(b+=r?t.length-v.length:g.length-x.length),s.setSelectionRange(b,b)}setValue(s,r){const a=this.processInput(s,r);a!==void 0&&(s.value=a.masked,this.options.onMaska!=null&&(Array.isArray(this.options.onMaska)?this.options.onMaska.forEach(i=>i(a)):this.options.onMaska(a)),s.dispatchEvent(new CustomEvent("maska",{detail:a})),s.dispatchEvent(new CustomEvent("input",{detail:a.masked})))}processInput(s,r){const a=this.items.get(s);if(a===void 0)return;let i=r??s.value;this.options.preProcess!=null&&(i=this.options.preProcess(i));let p=a.masked(i);return this.options.postProcess!=null&&(p=this.options.postProcess(p)),{masked:p,unmasked:a.unmasked(i),completed:a.completed(i)}}}const Q=new WeakMap,pt=(l,s)=>{if(l.arg==null||l.instance==null)return;const r="setup"in l.instance.$.type;l.arg in l.instance?l.instance[l.arg]=s:r&&console.warn("Maska: please expose `%s` using defineExpose",l.arg)},X=(l,s)=>{var r;const a=l instanceof HTMLInputElement?l:l.querySelector("input");if(a==null||(a==null?void 0:a.type)==="file")return;let i={};if(s.value!=null&&(i=typeof s.value=="string"?{mask:s.value}:{...s.value}),s.arg!=null){const p=m=>{const v=s.modifiers.unmasked?m.unmasked:s.modifiers.completed?m.completed:m.masked;pt(s,v)};i.onMaska=i.onMaska==null?p:Array.isArray(i.onMaska)?[...i.onMaska,p]:[i.onMaska,p]}Q.has(a)?(r=Q.get(a))==null||r.update(i):Q.set(a,new ut(a,i))},ct={class:"min-h-screen bg-background flex items-center justify-center p-4"},mt={class:"w-full max-w-lg"},ft={class:"text-center mb-12 space-y-4"},gt={class:"text-muted-foreground"},vt={class:"flex justify-center mb-12"},ht={class:"flex items-center space-x-4"},yt={class:"flex flex-col items-center"},_t={class:"space-y-8"},bt={key:0,class:"space-y-6"},kt={class:"space-y-3"},xt={class:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-[#10B981] flex items-center justify-center"},Ct={class:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-[#10B981] flex items-center justify-center"},wt={class:"space-y-2"},Rt={class:"grid grid-cols-2 gap-4"},Vt={class:"space-y-2"},qt={class:"space-y-2"},Et={class:"relative"},Pt={key:0,class:"space-y-2"},St={class:"grid grid-cols-2 gap-4"},jt={class:"space-y-2"},At={class:"space-y-2"},It={class:"space-y-2"},Ft={key:1,class:"space-y-6"},Mt={class:"space-y-2"},Bt={class:"relative"},Nt={key:0,class:"text-xs text-muted-foreground"},$t={key:0,class:"space-y-4"},Gt={class:"grid grid-cols-4 gap-3"},Dt={class:"col-span-3 space-y-2"},Ut={class:"space-y-2"},Tt={class:"grid grid-cols-2 gap-3"},Lt={class:"space-y-2"},zt={class:"space-y-2"},Ot={key:2,class:"space-y-6"},Wt={key:0,class:"space-y-2"},Jt={key:0},Ht={key:1,class:"flex items-center justify-center gap-2"},Kt={class:"text-sm font-medium text-green-600"},Zt={class:"space-y-2"},Yt={key:0},Qt={key:1,class:"flex items-center justify-center gap-2"},Xt={class:"text-sm font-medium text-green-600"},es={class:"space-y-2"},ts={key:0},ss={key:1,class:"flex items-center justify-center gap-2"},rs={class:"text-sm font-medium text-green-600"},os={class:"space-y-2"},as={key:0},ls={key:1,class:"flex items-center justify-center gap-2"},ns={class:"text-sm font-medium text-green-600"},is={class:"flex justify-between items-center pt-6"},ds={__name:"OnboardingForm",setup(l){const{toast:s}=Me(),r=G(!1),a=G(!1),i=G(!1),p=[{step:1,title:"Pessoal",icon:oe},{step:2,title:"Endereço",icon:$e},{step:3,title:"Documentos",icon:Ge}],m=G(1),v=G([]),t=be({person_type:"pf",full_name:"",phone:"",document:"",social_reason:"",average_revenue:"",average_ticket:"",products:"",address:"",number:"",city:"",state:"",zip_code:"",social_contract:null,rg_cnh_frente:null,rg_cnh_verso:null,selfie:null}),f=c=>v.value.includes(c),k=c=>m.value===c,g=c=>{v.value.includes(c)||v.value.push(c)},x=()=>{v.value=v.value.filter(c=>c<m.value)},b=async c=>{},w=async c=>{try{a.value=!0;const o=c.replace(/\D/g,"");if(o.length!==8)return;t.address="",t.city="",t.state="",i.value=!1;const N=await(await fetch(`https://viacep.com.br/ws/${o}/json/`)).json();if(N.erro){s({title:"CEP não encontrado",description:"Verifique o CEP informado",variant:"destructive"}),i.value=!1;return}t.address=N.logradouro||"",t.city=N.localidade||"",t.state=N.uf||"",t.zip_code=c,i.value=!0,s({title:"CEP encontrado",description:"Endereço preenchido automaticamente"})}catch(o){console.error("Erro ao buscar CEP:",o),s({title:"Erro ao buscar CEP",description:"Não foi possível encontrar o endereço",variant:"destructive"}),i.value=!1}finally{a.value=!1}};W(()=>t.document,c=>{t.person_type==="pj"&&c.length===18&&b()}),W(()=>t.person_type,c=>{console.log("Watch person_type:",c),t.document="",c==="pf"&&(t.social_reason="",t.social_contract=null)}),W(()=>t.zip_code,c=>{const o=(c==null?void 0:c.replace(/\D/g,""))||"";o.length===8?w(c):o.length>0&&o.length<8&&(t.address="",t.city="",t.state="",i.value=!1)}),W([()=>t.address,()=>t.city,()=>t.state],([c,o,u])=>{i.value=!!(c||o||u)});const C=(c,o)=>c?o.includes(c.type):!1,_=c=>c.size<=5242880,E=(c,o)=>{const u=c.target.files[0],N=["image/jpeg","image/jpg","image/png","application/pdf"];if(u){if(!C(u,N)){s({title:"Tipo de arquivo inválido",description:"Envie apenas PDF, JPG ou PNG",variant:"destructive"}),c.target.value="";return}if(!_(u)){s({title:"Arquivo muito grande",description:"Máximo 5MB",variant:"destructive"}),c.target.value="";return}t[o]=u,s({title:"Arquivo selecionado",description:u.name})}},U=()=>{m.value<p.length&&(g(m.value),m.value++)},M=()=>{m.value>1&&(x(),m.value--)},F=()=>{if(m.value<p.length){U();return}const c=new FormData;Object.keys(t).forEach(o=>{o==="social_contract"||o==="rg_cnh_frente"||o==="rg_cnh_verso"||o==="selfie"?t[o]&&c.append(o,t[o]):c.append(o,t[o])}),t.post(route("onboarding.store"),{forceFormData:!0,data:c,onSuccess:()=>{localStorage.setItem("onboarding_submitted","true"),s({title:"Cadastro concluído",description:"Bem-vindo ao LuckyPay"}),we.visit(route("dashboard"))},onError:o=>{console.error("Erros no envio:",o),s({title:"Erro ao cadastrar",description:"Verifique os campos",variant:"destructive"})}})};return(c,o)=>(h(),q("div",ct,[d("div",mt,[d("div",ft,[n(Be),d("p",gt,"Complete seu cadastro em "+A(p.length)+" etapas simples",1)]),d("div",vt,[d("div",ht,[(h(),q(ke,null,xe(p,(u,N)=>d("div",{key:u.step,class:"flex items-center"},[d("div",yt,[d("div",{class:B(["w-8 h-8 rounded-full flex items-center justify-center text-sm transition-all",[f(u.step)?"bg-foreground text-background":k(u.step)?"bg-muted text-foreground border-2 border-foreground":"bg-muted text-muted-foreground"]])},[f(u.step)?(h(),j(e($),{key:0,class:"w-4 h-4"})):(h(),j(Ce(u.icon),{key:1,class:"w-4 h-4"}))],2),d("span",{class:B(["text-xs mt-2 font-medium",[f(u.step)||k(u.step)?"text-foreground":"text-muted-foreground"]])},A(u.title),3)]),N<p.length-1?(h(),q("div",{key:0,class:B(["w-8 h-px mx-2 transition-colors",f(u.step)?"bg-foreground":"bg-border"])},null,2)):S("",!0)])),64))])]),d("div",_t,[m.value===1?(h(),q("div",bt,[d("div",kt,[n(e(V),{class:"text-sm font-medium dark:text-foreground sr-only"},{default:y(()=>o[21]||(o[21]=[R("Tipo de pessoa")])),_:1}),n(e(st),{modelValue:e(t).person_type,"onUpdate:modelValue":o[0]||(o[0]=u=>e(t).person_type=u),class:"grid grid-cols-2 gap-4"},{default:y(()=>[d("div",null,[n(e(ae),{value:"pf",id:"pf",class:"peer sr-only"}),n(e(V),{for:"pf",class:B(["flex flex-col items-center justify-center p-4 h-24 border-2 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-muted transition-all relative",e(t).person_type==="pf"?"border-primary bg-primary/5":"border-input"])},{default:y(()=>[T(d("div",xt,[n(e($),{class:"w-4 h-4 text-white"})],512),[[te,e(t).person_type==="pf"]]),n(e(oe),{class:B([e(t).person_type==="pf"?"text-primary":"text-muted-foreground","w-6 h-6 mb-2"])},null,8,["class"]),d("span",{class:B([e(t).person_type==="pf"?"text-primary":"text-foreground","text-sm font-medium"])},"Pessoa Física",2),o[22]||(o[22]=d("span",{class:"text-xs text-muted-foreground mt-1"},"CPF",-1))]),_:1},8,["class"])]),d("div",null,[n(e(ae),{value:"pj",id:"pj",class:"peer sr-only"}),n(e(V),{for:"pj",class:B(["flex flex-col items-center justify-center p-4 h-24 border-2 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-muted transition-all relative",e(t).person_type==="pj"?"border-primary bg-primary/5":"border-input"])},{default:y(()=>[T(d("div",Ct,[n(e($),{class:"w-4 h-4 text-white"})],512),[[te,e(t).person_type==="pj"]]),n(e(De),{class:B([e(t).person_type==="pj"?"text-primary":"text-muted-foreground","w-6 h-6 mb-2"])},null,8,["class"]),d("span",{class:B([e(t).person_type==="pj"?"text-primary":"text-foreground","text-sm font-medium"])},"Pessoa Jurídica",2),o[23]||(o[23]=d("span",{class:"text-xs text-muted-foreground mt-1"},"CNPJ",-1))]),_:1},8,["class"])])]),_:1},8,["modelValue"])]),d("div",wt,[n(e(V),{class:"text-sm font-medium text-foreground"},{default:y(()=>[R(A(e(t).person_type==="pf"?"Nome completo":"Nome do responsável"),1)]),_:1}),n(e(I),{modelValue:e(t).full_name,"onUpdate:modelValue":o[1]||(o[1]=u=>e(t).full_name=u),class:"h-11",placeholder:"Digite seu nome"},null,8,["modelValue"]),n(P,{message:e(t).errors.full_name},null,8,["message"])]),d("div",Rt,[d("div",Vt,[n(e(V),{class:"text-sm font-medium text-foreground"},{default:y(()=>o[24]||(o[24]=[R("Telefone")])),_:1}),T(n(e(I),{modelValue:e(t).phone,"onUpdate:modelValue":o[2]||(o[2]=u=>e(t).phone=u),class:"h-11",placeholder:"(00) 00000-0000"},null,8,["modelValue"]),[[e(X),"(##) #####-####"]]),n(P,{message:e(t).errors.phone},null,8,["message"])]),d("div",qt,[n(e(V),{class:"text-sm font-medium text-foreground"},{default:y(()=>[R(A(e(t).person_type==="pf"?"CPF":"CNPJ"),1)]),_:1}),d("div",Et,[T(n(e(I),{modelValue:e(t).document,"onUpdate:modelValue":o[3]||(o[3]=u=>e(t).document=u),class:"h-11",placeholder:e(t).person_type==="pf"?"000.000.000-00":"00.000.000/0000-00"},null,8,["modelValue","placeholder"]),[[e(X),e(t).person_type==="pf"?"###.###.###-##":"##.###.###/####-##"]]),e(t).person_type==="pj"&&r.value?(h(),j(e(Y),{key:0,class:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 animate-spin text-muted-foreground"})):S("",!0)]),n(P,{message:e(t).errors.document},null,8,["message"])])]),e(t).person_type==="pj"?(h(),q("div",Pt,[n(e(V),{class:"text-sm font-medium text-foreground"},{default:y(()=>o[25]||(o[25]=[R("Razão social")])),_:1}),n(e(I),{modelValue:e(t).social_reason,"onUpdate:modelValue":o[4]||(o[4]=u=>e(t).social_reason=u),class:"h-11",placeholder:"Nome da empresa"},null,8,["modelValue"]),n(P,{message:e(t).errors.social_reason},null,8,["message"])])):S("",!0),d("div",St,[d("div",jt,[n(e(V),{class:"text-sm font-medium text-foreground"},{default:y(()=>o[26]||(o[26]=[R("Faturamento mensal")])),_:1}),n(e(I),{modelValue:e(t).average_revenue,"onUpdate:modelValue":o[5]||(o[5]=u=>e(t).average_revenue=u),class:"h-11",placeholder:"R$ 0,00"},null,8,["modelValue"]),n(P,{message:e(t).errors.average_revenue},null,8,["message"])]),d("div",At,[n(e(V),{class:"text-sm font-medium text-foreground"},{default:y(()=>o[27]||(o[27]=[R("Ticket médio")])),_:1}),n(e(I),{modelValue:e(t).average_ticket,"onUpdate:modelValue":o[6]||(o[6]=u=>e(t).average_ticket=u),class:"h-11",placeholder:"R$ 0,00"},null,8,["modelValue"]),n(P,{message:e(t).errors.average_ticket},null,8,["message"])])]),d("div",It,[n(e(V),{class:"text-sm font-medium text-foreground"},{default:y(()=>o[28]||(o[28]=[R("Produtos")])),_:1}),n(e(I),{modelValue:e(t).products,"onUpdate:modelValue":o[7]||(o[7]=u=>e(t).products=u),class:"h-11",placeholder:"Ex: Roupas, Calçados..."},null,8,["modelValue"]),n(P,{message:e(t).errors.products},null,8,["message"])])])):S("",!0),m.value===2?(h(),q("div",Ft,[d("div",Mt,[n(e(V),{class:"text-sm font-medium text-foreground"},{default:y(()=>o[29]||(o[29]=[R("CEP")])),_:1}),d("div",Bt,[T(n(e(I),{modelValue:e(t).zip_code,"onUpdate:modelValue":o[8]||(o[8]=u=>e(t).zip_code=u),class:"h-11",placeholder:"00000-000",maxlength:"9","data-maska":"#####-###"},null,8,["modelValue"]),[[e(X)]]),a.value?(h(),j(e(Y),{key:0,class:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 animate-spin text-muted-foreground"})):S("",!0)]),i.value?S("",!0):(h(),q("p",Nt," Digite o CEP para preencher automaticamente ")),n(P,{message:e(t).errors.zip_code},null,8,["message"])]),i.value?(h(),q("div",$t,[d("div",Gt,[d("div",Dt,[n(e(V),{class:"text-sm font-medium text-foreground"},{default:y(()=>o[30]||(o[30]=[R("Endereço")])),_:1}),n(e(I),{modelValue:e(t).address,"onUpdate:modelValue":o[9]||(o[9]=u=>e(t).address=u),class:"h-11",placeholder:"Rua, Avenida..."},null,8,["modelValue"]),n(P,{message:e(t).errors.address},null,8,["message"])]),d("div",Ut,[n(e(V),{class:"text-sm font-medium text-foreground"},{default:y(()=>o[31]||(o[31]=[R("Número")])),_:1}),n(e(I),{modelValue:e(t).number,"onUpdate:modelValue":o[10]||(o[10]=u=>e(t).number=u),class:"h-11",placeholder:"123"},null,8,["modelValue"]),n(P,{message:e(t).errors.number},null,8,["message"])])]),d("div",Tt,[d("div",Lt,[n(e(V),{class:"text-sm font-medium text-foreground"},{default:y(()=>o[32]||(o[32]=[R("Cidade")])),_:1}),n(e(I),{modelValue:e(t).city,"onUpdate:modelValue":o[11]||(o[11]=u=>e(t).city=u),class:"h-11",placeholder:"Cidade"},null,8,["modelValue"]),n(P,{message:e(t).errors.city},null,8,["message"])]),d("div",zt,[n(e(V),{class:"text-sm font-medium text-foreground"},{default:y(()=>o[33]||(o[33]=[R("Estado")])),_:1}),n(e(I),{modelValue:e(t).state,"onUpdate:modelValue":o[12]||(o[12]=u=>e(t).state=u),class:"h-11",placeholder:"UF"},null,8,["modelValue"]),n(P,{message:e(t).errors.state},null,8,["message"])])])])):S("",!0)])):S("",!0),m.value===3?(h(),q("div",Ot,[e(t).person_type==="pj"?(h(),q("div",Wt,[n(e(V),{class:"text-sm font-medium text-foreground"},{default:y(()=>o[34]||(o[34]=[R("Contrato social")])),_:1}),d("input",{type:"file",class:"hidden",ref:"contratoSocialInput",accept:".pdf,.jpg,.jpeg,.png",onChange:o[13]||(o[13]=u=>E(u,"social_contract"))},null,544),d("div",{class:"border-2 border-dashed border-border rounded-lg p-6 text-center cursor-pointer hover:border-muted-foreground transition-colors bg-card",onClick:o[14]||(o[14]=u=>c.$refs.contratoSocialInput.click())},[n(e(J),{class:"w-6 h-6 mx-auto mb-2 text-muted-foreground"}),e(t).social_contract?(h(),q("div",Ht,[n(e($),{class:"w-4 h-4 text-green-600"}),d("span",Kt,A(e(t).social_contract.name),1)])):(h(),q("div",Jt,o[35]||(o[35]=[d("p",{class:"text-sm font-medium text-foreground"},"Clique para enviar",-1),d("p",{class:"text-xs text-muted-foreground mt-1"},"PDF, JPG ou PNG (máx. 5MB)",-1)])))]),n(P,{message:e(t).errors.social_contract},null,8,["message"])])):S("",!0),d("div",Zt,[n(e(V),{class:"text-sm font-medium text-foreground"},{default:y(()=>[R(A(e(t).person_type==="pf"?"RG/CNH (frente)":"Documento responsável (frente)"),1)]),_:1}),d("input",{type:"file",class:"hidden",ref:"rgFrenteInput",accept:".jpg,.jpeg,.png",onChange:o[15]||(o[15]=u=>E(u,"rg_cnh_frente"))},null,544),d("div",{class:"border-2 border-dashed border-border rounded-lg p-6 text-center cursor-pointer hover:border-muted-foreground transition-colors bg-card",onClick:o[16]||(o[16]=u=>c.$refs.rgFrenteInput.click())},[n(e(J),{class:"w-6 h-6 mx-auto mb-2 text-muted-foreground"}),e(t).rg_cnh_frente?(h(),q("div",Qt,[n(e($),{class:"w-4 h-4 text-green-600"}),d("span",Xt,A(e(t).rg_cnh_frente.name),1)])):(h(),q("div",Yt,o[36]||(o[36]=[d("p",{class:"text-sm font-medium text-foreground"},"Clique para enviar",-1),d("p",{class:"text-xs text-muted-foreground mt-1"},"JPG ou PNG (máx. 5MB)",-1)])))]),n(P,{message:e(t).errors.rg_cnh_frente},null,8,["message"])]),d("div",es,[n(e(V),{class:"text-sm font-medium text-foreground"},{default:y(()=>[R(A(e(t).person_type==="pf"?"RG/CNH (verso)":"Documento responsável (verso)"),1)]),_:1}),d("input",{type:"file",class:"hidden",ref:"rgVersoInput",accept:".jpg,.jpeg,.png",onChange:o[17]||(o[17]=u=>E(u,"rg_cnh_verso"))},null,544),d("div",{class:"border-2 border-dashed border-border rounded-lg p-6 text-center cursor-pointer hover:border-muted-foreground transition-colors bg-card",onClick:o[18]||(o[18]=u=>c.$refs.rgVersoInput.click())},[n(e(J),{class:"w-6 h-6 mx-auto mb-2 text-muted-foreground"}),e(t).rg_cnh_verso?(h(),q("div",ss,[n(e($),{class:"w-4 h-4 text-green-600"}),d("span",rs,A(e(t).rg_cnh_verso.name),1)])):(h(),q("div",ts,o[37]||(o[37]=[d("p",{class:"text-sm font-medium text-foreground"},"Clique para enviar",-1),d("p",{class:"text-xs text-muted-foreground mt-1"},"JPG ou PNG (máx. 5MB)",-1)])))]),n(P,{message:e(t).errors.rg_cnh_verso},null,8,["message"])]),d("div",os,[n(e(V),{class:"text-sm font-medium text-foreground"},{default:y(()=>[R(A(e(t).person_type==="pf"?"Selfie com documento":"Selfie do responsável"),1)]),_:1}),d("input",{type:"file",class:"hidden",ref:"selfieInput",accept:".jpg,.jpeg,.png",onChange:o[19]||(o[19]=u=>E(u,"selfie"))},null,544),d("div",{class:"border-2 border-dashed border-border rounded-lg p-6 text-center cursor-pointer hover:border-muted-foreground transition-colors bg-card",onClick:o[20]||(o[20]=u=>c.$refs.selfieInput.click())},[n(e(J),{class:"w-6 h-6 mx-auto mb-2 text-muted-foreground"}),e(t).selfie?(h(),q("div",ls,[n(e($),{class:"w-4 h-4 text-green-600"}),d("span",ns,A(e(t).selfie.name),1)])):(h(),q("div",as,o[38]||(o[38]=[d("p",{class:"text-sm font-medium text-foreground"},"Clique para enviar",-1),d("p",{class:"text-xs text-muted-foreground mt-1"},"JPG ou PNG (máx. 5MB)",-1)])))]),n(P,{message:e(t).errors.selfie},null,8,["message"])])])):S("",!0),d("div",is,[n(e(se),{type:"button",variant:"ghost",disabled:m.value===1,onClick:M,class:"text-muted-foreground hover:text-foreground"},{default:y(()=>o[39]||(o[39]=[R(" Voltar ")])),_:1},8,["disabled"]),n(e(se),{type:"button",onClick:F,disabled:e(t).processing,class:"bg-foreground hover:bg-foreground/90 text-background px-8"},{default:y(()=>[e(t).processing?(h(),j(e(Y),{key:0,class:"w-4 h-4 animate-spin mr-2"})):S("",!0),R(" "+A(m.value===p.length?"Concluir":"Continuar"),1)]),_:1},8,["disabled"])])])])]))}},us=Ne(ds,[["__scopeId","data-v-a525f101"]]),Ls={__name:"Index",setup(l){return route("onboarding"),(s,r)=>(h(),q("div",null,[n(e(Re),{title:"Bem-vindo ao LuckyPay"}),n(us)]))}};export{Ls as default};
